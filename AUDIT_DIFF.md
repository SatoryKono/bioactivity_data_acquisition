# Documentation Consistency Audit â€” branch refactoring_001

This document outlines the inconsistencies, discrepancies, and structural issues found within the project's documentation in the `refactoring_001` branch. The audit was conducted by comparing documentation files against each other without referencing the source code.

| Block | Location | Inconsistency | Type | Criticality | Remediation-ID |
|---|---|---|---|---|---|
| **Global** | All `*.md` files | All `[ref: repo:...@test_refactoring_32]` links point to the incorrect branch. They should point to `refactoring_001`. | Wrong-link | **Critical** | FP-GLOBAL-001 |
| **Navigation** | `[ref: repo:docs/INDEX.md@refactoring_001]` | The index links to several non-existent files and directories: `docs/requirements/`, `docs/qc/`, `docs/architecture/`. | Missing | **Critical** | FP-NAV-001 |
| **Navigation** | `[ref: repo:docs/INDEX.md@refactoring_001]` & `[ref: repo:README.md@refactoring_001]` | Both files link to `docs/pipelines/PIPELINES.md`, which is missing. This is a critical entry point for pipeline documentation. | Missing | **Critical** | FP-NAV-002 |
| **Navigation** | `[ref: repo:docs/cli/CLI.md@refactoring_001]` & `[ref: repo:docs/configs/CONFIGS.md@refactoring_001]` | These files act as redundant navigation pages, forcing an extra click to get to the actual content. | Structure-gap | Low | FP-STRUCT-001 |
| **Navigation** | `[ref: repo:docs/INDEX.md@refactoring_001]` | The document contains mixed languages (English and Russian), which is inconsistent with the goal of having English documentation. | Terminology-drift | Low | FP-LANG-001 |
| **CLI** | `[ref: repo:docs/cli/00-cli-overview.md@refactoring_001]` vs `[ref: repo:docs/etl_contract/07-cli-integration.md@refactoring_001]` | There is a direct contradiction regarding CLI command discovery. One document states it uses a **static registry** ("not dynamic"), while the other claims it uses **automatic discovery**. | API-drift | **Critical** | FP-CLI-001 |
| **CLI** | `[ref: repo:README.md@refactoring_001]` vs `[ref: repo:docs/cli/01-cli-commands.md@refactoring_001]` | The list of CLI commands is inconsistent. `README.md` is missing several commands (`openalex`, `crossref`, etc.) that are listed in the CLI commands reference. | Stale | Medium | FP-CLI-002 |
| **CLI** | `[ref: repo:README.md@refactoring_001]` vs `[ref: repo:docs/cli/01-cli-commands.md@refactoring_001]` | Configuration paths in examples are inconsistent (e.g., `src/bioetl/configs/...` vs `configs/...`). This breaks copy-paste usability. | Wrong-path | **Critical** | FP-CLI-003 |
| **CLI** | `[ref: repo:docs/cli/00-cli-overview.md@refactoring_001]` | The "Key Flags" section is missing the `--input-file` flag, which is mentioned in other documents. | Missing | Medium | FP-CLI-004 |
| **CLI** | `[ref: repo:docs/cli/00-cli-overview.md@refactoring_001]` vs `[ref: repo:docs/etl_contract/07-cli-integration.md@refactoring_001]` | The `--config` flag is described as **required** in one document but optional in another. | API-drift | Medium | FP-CLI-005 |
| **CLI** | `[ref: repo:README.md@refactoring_001]` vs `[ref: repo:docs/etl_contract/07-cli-integration.md@refactoring_001]` | Pipeline command naming is inconsistent. `README.md` uses single-word names (`activity`), while `etl_contract` uses `snake_case` (`chembl_activity`). | Naming-drift | Medium | FP-CLI-006 |
| **CLI** | `[ref: repo:docs/etl_contract/07-cli-integration.md@refactoring_001]` | The document fails to mention the important `--set` flag for overriding configurations. | Missing | Medium | FP-CLI-007 |
| **Configs** | `[ref: repo:docs/configs/00-typed-configs-and-profiles.md@refactoring_001]` vs `[ref: repo:docs/pipelines/00-pipeline-base.md@refactoring_001]` | The key for inheriting configuration profiles is contradictory. One document specifies `extends`, while others use `profile`. | API-drift | **Critical** | FP-CONF-001 |
| **Configs** | `[ref: repo:docs/configs/00-typed-configs-and-profiles.md@refactoring_001]` | The example for `extends` uses relative paths (`../../profiles/base.yaml`) that are inconsistent with the config file location shown in `README.md`. | Wrong-path | Medium | FP-CONF-002 |
| **Pipelines** | `docs/pipelines/` | The `target` pipeline, mentioned in `README.md`, is missing a clear documentation card or entry point. | Missing | Medium | FP-PIPE-001 |
| **Pipelines** | `docs/pipelines/` | The `testitem` pipeline has two separate documentation files (`07a...` and `07b...`), which is confusing. | Structure-gap | Low | FP-PIPE-002 |
| **Pipelines** | `docs/pipelines/` | The purpose of the `CONTRACT.md` file is unclear and it likely duplicates content from other, more specific documents. | Duplication | Low | FP-PIPE-003 |
