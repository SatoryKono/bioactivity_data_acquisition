======================================================== tests coverage ========================================================
_______________________________________ coverage: platform linux, python 3.11.12-final-0 _______________________________________

Name                                          Stmts   Miss  Cover   Missing
---------------------------------------------------------------------------
src/bioetl/__init__.py                            1      0   100%
src/bioetl/adapters/__init__.py                   8      0   100%
src/bioetl/adapters/_normalizer_helpers.py       10      0   100%
src/bioetl/adapters/base.py                      85     58    32%   41-44, 49, 80-114, 118-122, 127, 140-181, 185, 194-209
src/bioetl/adapters/crossref.py                  83     71    14%   25-31, 37-47, 51-134
src/bioetl/adapters/openalex.py                  96     86    10%   23-59, 63-75, 79-178
src/bioetl/adapters/pubchem.py                  182    165     9%   43-45, 57, 66-106, 117-145, 156-181, 192-219, 230-289, 293-300, 317-375
src/bioetl/adapters/pubmed.py                   230    212     8%   27-43, 48-79, 83-96, 100-257, 261-275, 279-294, 298-389
src/bioetl/adapters/semantic_scholar.py         108     90    17%   27-34, 38-48, 52-70, 74, 83-98, 103-119, 124-136, 140-212
src/bioetl/cli/__init__.py                        8      8     0%   3-21
src/bioetl/cli/command.py                       133    133     0%   3-300
src/bioetl/cli/limits.py                         32     32     0%   3-65
src/bioetl/cli/main.py                           15     15     0%   3-24
src/bioetl/config/__init__.py                     3      0   100%
src/bioetl/config/loader.py                     159     53    67%   39, 44, 52, 57, 67, 75, 110, 150, 154, 160, 173, 178, 186, 190, 211, 219-220, 226-246, 258-284
src/bioetl/config/models.py                     468    165    65%   35-41, 128, 137, 153-173, 179-192, 204-211, 214-221, 225, 335, 360, 362, 381-382, 395-412, 422-436, 452, 482-485, 490-498, 508-518, 523-531, 554, 583, 587-590, 596, 607-618, 623-630, 635, 641-645, 650-653, 658-662, 671-682, 710, 719, 723-724, 727, 759, 775-785
src/bioetl/config/paths.py                       26      4    85%   17-22, 40, 49
src/bioetl/configs/__init__.py                    0      0   100%
src/bioetl/core/__init__.py                       5      0   100%
src/bioetl/core/api_client.py                   462    338    27%   30, 39-72, 130-162, 166-169, 187-222, 226-231, 259-290, 296-313, 337-339, 344-365, 370, 382-401, 406-449, 454-478, 545-551, 576-593, 618-725, 738-781, 793-855, 861-881, 895-936, 942-953, 958-1003, 1007
src/bioetl/core/client_factory.py                98     23    77%   44-48, 83, 87, 144, 176, 179, 191, 195, 205, 208, 217, 219, 222, 232-238
src/bioetl/core/hashing.py                       19     11    42%   35-38, 74-84
src/bioetl/core/logger.py                       118     19    84%   50, 87-89, 94-98, 113, 136, 155-156, 159-160, 167, 215, 252, 257
src/bioetl/core/materialization.py              166    131    21%   58-118, 123-129, 141-217, 231-306, 318-325, 328-351, 354-359, 370-373, 377, 381-387, 390-397
src/bioetl/core/output_writer.py                557    431    23%   42-43, 51-63, 69-84, 128-134, 140-143, 203, 206, 221, 235-239, 270-277, 286-296, 316-348, 362-377, 390-428, 449-466, 471-475, 506-797, 823-879, 883-893, 898-917, 922-937, 942-972, 990-1080, 1085-1146, 1153-1166
src/bioetl/inventory/__init__.py                  4      4     0%   2-6
src/bioetl/inventory/collector.py               326    326     0%   2-446
src/bioetl/inventory/config.py                   50     50     0%   2-86
src/bioetl/inventory/models.py                   44     44     0%   2-74
src/bioetl/normalizers/__init__.py               21      0   100%
src/bioetl/normalizers/base.py                   11      5    55%   26-30
src/bioetl/normalizers/bibliography.py          140    120    14%   27-40, 46-58, 64-71, 77-112, 118-158, 171-186, 219-244
src/bioetl/normalizers/chemistry.py             159    109    31%   20, 28-34, 38-46, 50-58, 62-70, 87-110, 115, 122-137, 140, 153-164, 167, 177-180, 183-187, 198-207, 210-214, 224, 227, 237-257, 260, 274-281, 284
src/bioetl/normalizers/constants.py               5      0   100%
src/bioetl/normalizers/helpers.py                35     27    23%   26-38, 44, 66-86
src/bioetl/normalizers/identifier.py             66     57    14%   25-54, 58-69, 73-88, 92-125
src/bioetl/normalizers/numeric.py                49     35    29%   15, 19-25, 29-34, 38-46, 50-53, 60, 64-66, 70-73
src/bioetl/normalizers/registry.py               17      3    82%   22, 28-29
src/bioetl/normalizers/string.py                 22     10    55%   22-29, 33, 37, 41, 45
src/bioetl/pandera_pandas.py                     32      3    91%   51, 62, 66
src/bioetl/pandera_typing.py                     13      2    85%   27-28
src/bioetl/pipelines/__init__.py                 10      4    60%   44-49
src/bioetl/pipelines/activity.py                594    373    37%   108-109, 116-122, 130-132, 141-148, 157-165, 174-182, 188-202, 208-210, 252-293, 298-402, 407-415, 420-443, 450-452, 457-491, 496-655, 665-690, 695-696, 701-703, 708-719, 724-751, 758-776, 787-812, 817-831, 841, 848, 856, 906-912, 920-927, 935-940, 957-958, 963-964, 971, 973, 977, 979, 1038, 1041-1045, 1053-1106, 1129-1137, 1140-1147, 1157, 1188-1194, 1205, 1220, 1222, 1250-1251, 1263-1268
src/bioetl/pipelines/assay.py                   534    534     0%   4-1181
src/bioetl/pipelines/base.py                    501    291    42%   106, 128, 134, 149-150, 222, 227-233, 238-242, 273-298, 307, 311-313, 331-332, 337-340, 351, 358-359, 367, 429-430, 467, 475, 481, 484-490, 493, 499-502, 505, 516, 534-577, 582-607, 612, 617-618, 663-737, 759-773, 777-826, 874-946, 958-989, 1003, 1009, 1012-1013, 1020-1030, 1043-1062, 1069-1084, 1089-1108, 1114-1152
src/bioetl/pipelines/document.py                689    592    14%   61, 80-82, 205-236, 240-280, 285-304, 309-313, 323-449, 455-457, 462-488, 493-501, 507-514, 520-645, 654-684, 691-701, 706-713, 722-792, 797-825, 830-853, 856-858, 861-862, 865-873, 876-877, 883-907, 910-922, 931, 950-951, 955-1093, 1100-1110, 1114-1250, 1255-1305, 1310-1348, 1357, 1359, 1380-1422
src/bioetl/pipelines/document_enrichment.py     123    111    10%   136-141, 146-149, 154-157, 162-197, 210-316, 322-364
src/bioetl/pipelines/target.py                 1095    991     9%   85-147, 159-163, 178-193, 198-199, 203-227, 231-392, 396-457, 463-470, 475-501, 508-767, 774-981, 991-1044, 1051-1095, 1100-1103, 1108-1135, 1140, 1158-1160, 1171-1181, 1186-1231, 1236-1264, 1269-1315, 1320-1371, 1376-1399, 1402-1410, 1413-1429, 1432-1435, 1438-1449, 1452-1464, 1467-1479, 1482-1487, 1490-1498, 1507-1508, 1521-1522, 1536-1583, 1594-1596, 1608-1629, 1634-1673, 1678-1706, 1716-1878, 1883-1913, 1918-2028, 2039-2061, 2079, 2081, 2089, 2092, 2095, 2108-2134, 2143, 2145, 2166-2198
src/bioetl/pipelines/target_gold.py             228    193    15%   30-39, 45-55, 72-112, 118-151, 161-192, 218-351, 362-408, 420-432, 446-466
src/bioetl/pipelines/testitem.py                660    660     0%   3-1507
src/bioetl/schemas/__init__.py                   10      0   100%
src/bioetl/schemas/activity.py                   59      1    98%   257
src/bioetl/schemas/assay.py                      67     67     0%   3-250
src/bioetl/schemas/base.py                       69      1    99%   243
src/bioetl/schemas/document.py                  170     17    90%   107-132
src/bioetl/schemas/document_input.py              8      0   100%
src/bioetl/schemas/registry.py                   93     45    52%   61, 75-77, 80-89, 92-93, 127-148, 158-168, 181, 191-209
src/bioetl/schemas/target.py                     82      0   100%
src/bioetl/schemas/testitem.py                  117    117     0%   3-354
src/bioetl/utils/__init__.py                     12     10    17%   21-36
src/bioetl/utils/chembl.py                       26     11    58%   40-44, 67-74
src/bioetl/utils/column_constants.py             13      1    92%   27
src/bioetl/utils/config.py                       45     37    18%   19-26, 43-79, 96-132
src/bioetl/utils/dataframe.py                   131     54    59%   30-68, 97, 100, 103, 107, 131, 135-136, 141-167, 195, 200, 206-209, 212, 214, 217, 219, 222, 226, 236
src/bioetl/utils/dtypes.py                      115     76    34%   28-50, 65, 71-73, 81, 91, 99-121, 154-185, 192, 213-229, 235
src/bioetl/utils/fallback.py                     79     54    32%   29, 38, 44, 49-53, 58-62, 68-81, 89-108, 114-116, 146-175
src/bioetl/utils/io.py                           48     39    19%   24-42, 78-127
src/bioetl/utils/json.py                         62     54    13%   25-35, 53-127
src/bioetl/utils/output.py                       41      5    88%   47, 55, 58, 79, 115
src/bioetl/utils/qc.py                          115     59    49%   30, 38-50, 81-82, 89, 101-103, 119-132, 140-154, 173-174, 197-222, 241-249, 259-267
src/bioetl/utils/validation.py                  224    194    13%   30-65, 84-94, 103, 128-133, 154-220, 224, 241-264, 274-300, 317-338, 342-346, 370-428, 447-516, 521-550, 555-557, 562-568
---------------------------------------------------------------------------
TOTAL                                         10086   7431    26%
Coverage HTML written to dir htmlcov
Coverage XML written to file coverage.xml
FAIL Required test coverage of 85% not reached. Total coverage: 26.32%
