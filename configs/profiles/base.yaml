# configs/profiles/base.yaml
#
# Baseline configuration shared by all pipelines. Each project-specific
# pipeline YAML should `extends: ["../profiles/base.yaml"]` (with the
# appropriate relative path) so that these defaults are merged before any
# pipeline-specific overrides.

version: 1

http:
  default:
    timeout_sec: 60.0
    connect_timeout_sec: 15.0
    read_timeout_sec: 60.0
    retries:
      total: 5
      backoff_multiplier: 2.0
      backoff_max: 60.0
      statuses: [408, 429, 500, 502, 503, 504]
    rate_limit:
      max_calls: 10
      period: 1.0
    rate_limit_jitter: true
    headers:
      User-Agent: "BioETL/1.0 (UnifiedAPIClient)"
      Accept: "application/json"
      Accept-Encoding: "gzip, deflate"

cache:
  enabled: true
  directory: "http_cache"
  ttl: 86400

paths:
  input_root: "data/input"
  output_root: "data/output"
  cache_root: ".cache"

materialization:
  root: "data/output"
  default_format: "parquet"

fallbacks:
  enabled: true

validation:
  strict: true
  coerce: true

runtime:
  parallelism: 1
  chunk_rows: 1000

logging:
  level: "INFO"
  format: "json"
  redact_fields:
    - "api_key"
    - "access_token"
    - "password"

telemetry:
  enabled: false
  exporter_type: null
  sampling_rate: 1.0
  endpoint: null