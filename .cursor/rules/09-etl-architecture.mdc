---
description: USE WHEN designing or editing pipelines; one source → one public pipeline; unified components; standard stages
globs: ["src/bioetl/pipelines/**/*.py", "docs/etl_contract/**/*.md", "docs/pipelines/**/*.md"]
alwaysApply: false
---

# NAMING
- Pipeline names: `{entity}_{source}` (e.g., `activity_chembl`, `target_uniprot`).

# ARCHITECTURE
- Unified components: Logger, OutputWriter, APIClient, Schema.  
- Adapter pattern for external sources.  
- Contract stages: extract → transform → validate → export.  
- Prefer star schema: dims (documents, targets, assays, testitems) + fact (activity).

# IDP
- Idempotent runs with deterministic sorting and hashing; re-runs do not duplicate data.

# REFERENCE
See [docs/styleguide/08-etl-architecture.md](../../docs/styleguide/08-etl-architecture.md) for detailed documentation.
