Промт: «Полный набор ChEMBL-пайплайнов с CLI-командами и конфигами»
Роль и режим

Ты — системный аналитик ETL и технический писатель. Работаешь строго по ветке test_refactoring_32 репозитория SatoryKono/bioactivity_data_acquisition. Никаких внешних догадок. Все ссылки в тексте оформляй строго так:

[ref: repo:<path>@test_refactoring_32]

Обязательные источники

README: список ChEMBL-пайплайнов, их CLI-команды и YAML-конфиги; Quick Start с python -m bioetl.cli.main .... Используй как канон перечня и путей. 
GitHub

— Карточки: Activity, Assay, Target, Document, TestItem; для каждого указан bioetl.cli.main <cmd> и путь src/bioetl/configs/pipelines/chembl/*.yaml. 
GitHub

CLI: [ref: repo:src/bioetl/cli/app.py@test_refactoring_32] — точные имена команд/флагов.

Конфиги: [ref: repo:src/bioetl/configs/models.py@test_refactoring_32], [ref: repo:docs/configs/CONFIGS.md@test_refactoring_32] — поля и мердж профилей.

Пайплайны/источники/схемы: [ref: repo:src/bioetl/pipelines/@test_refactoring_32], [ref: repo:src/bioetl/sources/@test_refactoring_32], [ref: repo:docs/pipelines/PIPELINES.md@test_refactoring_32].

Задача

Подготовь синхронизированные карточки для каждого ChEMBL-пайплайна: activity, assay, target, document, testitem. Карточки должны быть самодостаточными и основанными на фактическом коде: CLI-команда, конфиг, входы/выходы, Pandera-схемы, сорт-ключи и детерминизм, QC-метрики, коды возврата, примеры запуска.

Что нужно выдать

Один файл: docs/pipelines/10-chembl-pipelines-catalog.md.

Структура файла

Оглавление и матрица покрытий
Таблица на одну страницу:

Пайплайн	CLI команда	Конфиг	Основной источник	Статус	Артефакт вывода
Activity	bioetl.cli.main activity	[ref: repo:src/bioetl/configs/pipelines/chembl/activity.yaml@test_refactoring_32]	ChEMBL /activity.json	Production	CSV/Parquet
Assay	bioetl.cli.main assay	[ref: repo:src/bioetl/configs/pipelines/chembl/assay.yaml@test_refactoring_32]	ChEMBL /assay.json	Production	CSV/Parquet
Target	bioetl.cli.main target	[ref: repo:src/bioetl/configs/pipelines/chembl/target.yaml@test_refactoring_32]	ChEMBL /target.json (+ обогащение)	Production	CSV/Parquet
Document	bioetl.cli.main document	[ref: repo:src/bioetl/configs/pipelines/chembl/document.yaml@test_refactoring_32]	ChEMBL + библиографические	Production	CSV/Parquet
TestItem	bioetl.cli.main testitem	[ref: repo:src/bioetl/configs/pipelines/chembl/testitem.yaml@test_refactoring_32]	ChEMBL + PubChem	Production	CSV/Parquet

Перечень и пути должны совпадать с README Quick Start и таблицей «Пайплайны ChEMBL». 
GitHub

Карточка пайплайна: единый шаблон для всех пяти
Для каждого из activity/assay/target/document/testitem заполни блоки ниже, с прямыми ссылками на код/конфиги:

Идентификация
Название, CLI-команда, путь к конфигу, статус. Ссылки: README и соответствующий YAML. 
GitHub

Назначение и охват
Какие сущности грузим, из каких эндпоинтов ChEMBL, что считается «успешной записью». Ссылки на модуль источника/клиента.

Входы

Файлы/параметры CLI: --config, --input-file (если используется), --output-dir, --dry-run, --limit.

Задействованные профили (base.yaml, determinism.yaml) и порядок мерджа.
Ссылки: CLI и модели конфигов.

Выходы и артефакты

Формат: CSV/Parquet, стабильный порядок колонок, кодировка, na_rep.

meta.yaml: обязательные поля (dataset, row_count, schema_version, hash_algo, business_key, inputs/outputs, config_fingerprint, generated_at_utc).

Локация артефактов относительно --output-dir.

Схема и валидация

Pandera-схема: strict=True, ordered=True, coerce=True.

Бизнес-ключ и DataFrame-проверка уникальности.

Ссылка на файл схемы/валидатора для данного пайплайна.

Детерминизм и сортировка

Стабильные сорт-ключи перед записью.

hash_row и hash_business_key: какие поля входят, что исключено.

Влияние профиля determinism.yaml.

QC-метрики
Счётчики: duplicate_count, missing_count, fallback_count, referential_integrity_violations и др.; где пишутся в логи и в meta.yaml.

Ошибки и коды возврата

Категории: конфиг, сеть/лимиты, парсинг, валидация, запись.

Exit codes: успех, мягкий фейл валидации, фатальная ошибка.

Примеры диагностических сообщений.

Логирование и телеметрия
Обязательные поля события: run_id, stage, source, endpoint, attempt, duration_ms, retry_after, trace_id.

Примеры запуска
Минимальный, с --dry-run, с профилем детерминизма:

python -m bioetl.cli.main <pipeline> \
  --config src/bioetl/configs/pipelines/chembl/<pipeline>.yaml \
  --output-dir data/output/<pipeline> \
  --dry-run


Вписать реальный <pipeline> и путь. Примеры должны соответствовать README Quick Start. 
GitHub

Приложение: справочник флагов CLI и полей конфигов

Таблица флагов: имя, тип, default, где поддержан.

Таблица ключей PipelineConfig: ключ, тип, required, default, влияние на пайплайн.

Ссылки на app.py и configs/models.py.

Жёсткие требования (MUST)

Карточки строго синхронизированы с текущим списком ChEMBL-пайплайнов в README, включая точные имена CLI-команд и пути к YAML. Любые расхождения считаются ошибкой. 
GitHub

Все ссылки внутри документа — только вида [ref: repo:<path>@test_refactoring_32].

В каждой карточке заданы: входы/выходы, Pandera-схемы и бизнес-ключ, сорт-ключи и хэши, QC-метрики, meta.yaml, коды возврата и примеры CLI.

Описан порядок мерджа конфигов и профилей (base.yaml + determinism.yaml) и их влияние на детерминизм.

Примеры запуска копируемые и рабочие относительно репозитория, как в Quick Start. 
GitHub

Формат

Язык: русский.

Один файл docs/pipelines/10-chembl-pipelines-catalog.md.

Короткие блоки, таблицы, без воды; для каждого пайплайна — единый шаблон.