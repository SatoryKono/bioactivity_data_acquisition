# Pipeline Metrics Baseline

## Baseline KPIs

Исходные метрики рассчитаны из [`docs/requirements/PIPELINES.inventory.csv`](PIPELINES.inventory.csv), собранного инвентаризационным скриптом `src/scripts/run_inventory.py` с конфигом `configs/inventory.yaml`; актуальная метка времени снимка доступна в столбце `mtime` CSV. Они фиксируют текущее состояние монолитных пайплайнов в `src/bioetl/pipelines/` и вспомогательных прокси в `src/bioetl/sources/chembl/`.

### Монолитные пайплайны (`src/bioetl/pipelines/`)

| Модуль | Файлов | LOC | Экспортируемые символы |
| --- | --- | --- | --- |
| `pipelines.__init__` | 1 | 52 | 9 |
| `activity` | 1 | 1 107 | 1 |
| `assay` | 1 | 935 | 1 |
| `base` | 1 | 891 | 3 |
| `document` | 1 | 1 067 | 1 |
| `document_enrichment` | 1 | 13 | 4 |
| `pubchem` | 1 | 306 | 1 |
| `target` | 1 | 1 124 | 1 |
| `target_gold` | 1 | 391 | 6 |
| `testitem` | 1 | 1 173 | 1 |
| **Итого** | **10** | **7 059** | **28** |

### Прокси для ChEMBL (`src/bioetl/sources/chembl/`)

| Сегмент | Файлов | LOC | Экспортируемые символы |
| --- | --- | --- | --- |
| `chembl` | 46 | 5 604 | 10 |
| **Итого** | **46** | **5 604** | **10** |

### Совокупные показатели

- Всего файлов в семействе пайплайнов (монолит + прокси): **56**.
- Суммарный объём кода: **12 663 LOC**.
- Совокупное количество экспортируемых публичных символов: **38**.

Эти значения используются в критериях приёмки для отслеживания сокращения дублирующих файлов (≥30% от 56) и контроля за усложнением публичного API.

## Runtime Snapshot

Сводка последнего полного прогона пайплайнов (ограничение по данным — 10 строк) доступна в [RUN_RESULTS_SUMMARY.md](../RUN_RESULTS_SUMMARY.md):

- Время выполнения набора pipeline-джобов — около **1 минуты**.
- Все три целевых пайплайна (`assay`, `activity`, `testitem`) завершились успешно и обеспечили детерминированные артефакты.

Детализированный отчёт по финальному прогону (`docs/FINAL_RUN_RESULTS.md`) подтверждает корректное формирование выходных CSV и временные метки завершения каждого пайплайна.
