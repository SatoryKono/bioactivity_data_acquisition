# Релизы и изменения

Следуем SemVer. Формат — Keep a Changelog.

## Процесс выпуска

1. Обновить `CHANGELOG` (секция Unreleased → новый тег)
2. Обновить версии в проекте (при необходимости)
3. Создать тег `vX.Y.Z` и GitHub Release
4. Проверить сборку документации и CI

## [Unreleased]

### Added

- **Рефакторинг testitem модуля**: Полная переработка по образцу documents модуля
  - Новые Pydantic модели конфигурации с валидацией
  - Консолидация ETL логики в `pipeline.py`
  - Функция `load_testitem_config()` для загрузки конфигурации
  - Обновленные схемы валидации с полями `error` и `pubchem_error`
  - Миграционное руководство в `README_testitem.md`
- **Документация очистки репозитория**: Создан `CLEANUP_REPORT.md` с полным описанием проведённой очистки
- **Расширенное руководство по контрибьюшену**: Добавлены детальные инструкции по работе с артефактами, Git LFS и pre-commit хуками
- **Документация (MkDocs Material)**: API Reference, диаграммы, CI публикации
- **Git LFS интеграция**: Настроен для `*.parquet`, `*.pkl`, `*.xlsm`, `*.png`, `*.jpg` и других больших форматов
- **Pre-commit хуки**: Порог 500 КБ, блокировка артефактов, проверка секретов
- **CI артефакты**: Публикация test outputs, coverage и security отчётов

### Changed

- **testitem модуль**: Полная переработка архитектуры по образцу documents
  - Конфигурация: переход на Pydantic модели с вложенными настройками
  - API: `run_testitem_etl()` теперь принимает `input_path` вместо `input_data`
  - Консолидация: ETL логика объединена в `pipeline.py`
  - Конфигурационные файлы: обновлена структура YAML (см. миграционное руководство)
- **Очистка репозитория**: Удалены кэши, временные файлы и большие данные (экономия ~150MB)
- **Обновлён .gitignore**: OS/IDE файлы, test outputs, site/, временные файлы, кэши
- **Обновлены пути конфигурации**: Переход на `configs/`
- **Политики артефактов**: Установлены строгие правила для предотвращения коммита сгенерированных файлов

### Removed

- **testitem модуль**: Удалены устаревшие модули после консолидации
  - `src/library/testitem/extract.py` - функциональность перенесена в `pipeline.py`
  - `src/library/testitem/normalize.py` - функциональность перенесена в `pipeline.py`
  - `src/library/testitem/validate.py` - функциональность перенесена в `pipeline.py`
  - `src/library/testitem/persist.py` - функциональность перенесена в `pipeline.py`

### Fixed

- **Производительность Git**: Значительно ускорены операции клонирования и работы с репозиторием
- **Управление большими файлами**: Автоматическое отслеживание через Git LFS

### Documentation

- **Новые документы**:
  - [`CLEANUP_REPORT.md`](../../CLEANUP_REPORT.md) - Полный отчёт об очистке репозитория
  - [`docs/how-to/contribute.md`](how-to/contribute.md) - Расширенное руководство по контрибьюшену
  - [`docs/GIT_LFS_WORKFLOW.md`](GIT_LFS_WORKFLOW.md) - Рабочий процесс Git LFS
- **Обновлённые документы**:
  - [`docs/changelog.md`](changelog.md) - Этот файл с записями о релизе очистки

Шаблон (Keep a Changelog):

```markdown
## [Unreleased]
### Added
### Changed
### Fixed

## [0.1.0] - 2025-10-16
### Added
- Initial release
```
