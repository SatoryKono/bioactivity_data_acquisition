# –†–µ—à–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º—ã Rate Limiting Semantic Scholar API

## üö® –ü—Ä–æ–±–ª–µ–º–∞

Semantic Scholar API –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –æ—à–∏–±–∫—É 429 (Too Many Requests) –¥–∞–∂–µ –ø—Ä–∏ –∫–æ–Ω—Å–µ—Ä–≤–∞—Ç–∏–≤–Ω—ã—Ö –Ω–∞—Å—Ç—Ä–æ–π–∫–∞—Ö:

```
{"message": "Too Many Requests. Please wait and try again or apply for a key for higher rate limits. https://www.semanticscholar.org/product/api#api-key-form", "code": "429"}
```

## üìä –ê–Ω–∞–ª–∏–∑ –ª–æ–≥–æ–≤

–ò–∑ –≤–∞—à–∏—Ö –ª–æ–≥–æ–≤ –≤–∏–¥–Ω–æ:
1. **–ü–µ—Ä–≤–∞—è –ø–æ–ø—ã—Ç–∫–∞**: –û—à–∏–±–∫–∞ 429
2. **–ü–æ–≤—Ç–æ—Ä–Ω–∞—è –ø–æ–ø—ã—Ç–∫–∞ —á–µ—Ä–µ–∑ 109.5 —Å–µ–∫—É–Ω–¥**: –°–Ω–æ–≤–∞ –æ—à–∏–±–∫–∞ 429  
3. **Fallback**: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Ä–µ–∑–µ—Ä–≤–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö

## üéØ –†–µ—à–µ–Ω–∏—è

### 1. **–ü–æ–ª—É—á–∏—Ç—å API –∫–ª—é—á Semantic Scholar** (–†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)

**–®–∞–≥–∏:**
1. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –Ω–∞: https://www.semanticscholar.org/product/api#api-key-form
2. –ó–∞–ø–æ–ª–Ω–∏—Ç–µ —Ñ–æ—Ä–º—É –∑–∞–ø—Ä–æ—Å–∞ API –∫–ª—é—á–∞
3. –ü–æ—Å–ª–µ –ø–æ–ª—É—á–µ–Ω–∏—è –∫–ª—é—á–∞ –¥–æ–±–∞–≤—å—Ç–µ –µ–≥–æ –≤ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é:

```yaml
sources:
  semantic_scholar:
    headers:
      x-api-key: "–≤–∞—à_api_–∫–ª—é—á_–∑–¥–µ—Å—å"
```

**–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞:**
- –£–≤–µ–ª–∏—á–µ–Ω–∏–µ –ª–∏–º–∏—Ç–æ–≤ —Å ~1 –∑–∞–ø—Ä–æ—Å–∞/–º–∏–Ω—É—Ç—É –¥–æ 100 –∑–∞–ø—Ä–æ—Å–æ–≤/–º–∏–Ω—É—Ç—É
- –ë–æ–ª–µ–µ —Å—Ç–∞–±–∏–ª—å–Ω–∞—è —Ä–∞–±–æ—Ç–∞
- –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –∑–∞–ø—Ä–æ—Å–æ–≤

### 2. **–í—Ä–µ–º–µ–Ω–Ω–æ –æ—Ç–∫–ª—é—á–∏—Ç—å Semantic Scholar**

–ï—Å–ª–∏ API –∫–ª—é—á –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω:

```yaml
sources:
  semantic_scholar:
    enabled: false
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç:**
- –°–∏—Å—Ç–µ–º–∞ –±—É–¥–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –¥—Ä—É–≥–∏–µ –∏—Å—Ç–æ—á–Ω–∏–∫–∏ (ChEMBL, Crossref, OpenAlex, PubMed)
- –ò–∑–±–µ–∂–∞–Ω–∏–µ –æ—à–∏–±–æ–∫ rate limiting
- –ü—Ä–æ–¥–æ–ª–∂–µ–Ω–∏–µ —Ä–∞–±–æ—Ç—ã –±–µ–∑ Semantic Scholar –¥–∞–Ω–Ω—ã—Ö

### 3. **–£–ª—É—á—à–µ–Ω–∏—è –≤ –∫–æ–¥–µ** (–£–∂–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω—ã)

#### –£–≤–µ–ª–∏—á–µ–Ω—ã –∑–∞–¥–µ—Ä–∂–∫–∏ –¥–ª—è Semantic Scholar:
- **–ë—ã–ª–æ**: 2-5 –º–∏–Ω—É—Ç
- **–°—Ç–∞–ª–æ**: 3-10 –º–∏–Ω—É—Ç –¥–ª—è rate limiting

#### –£–ª—É—á—à–µ–Ω–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∞ Retry-After:
- –ú–∏–Ω–∏–º—É–º 5 –º–∏–Ω—É—Ç –∑–∞–¥–µ—Ä–∂–∫–∏ –¥–ª—è Semantic Scholar
- –ö–æ–Ω—Å–µ—Ä–≤–∞—Ç–∏–≤–Ω–∞—è –∑–∞–¥–µ—Ä–∂–∫–∞ –ø—Ä–∏ –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–∏ –∑–∞–≥–æ–ª–æ–≤–∫–∞

#### –ë–æ–ª–µ–µ –≤–∞—Ä–∏–∞—Ç–∏–≤–Ω—ã–µ –∑–∞–¥–µ—Ä–∂–∫–∏:
- Jitter —É–≤–µ–ª–∏—á–µ–Ω —Å ¬±10% –¥–æ ¬±20%
- –°–Ω–∏–∂–µ–Ω–∏–µ –≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç–∏ –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤

## üìà –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥

–°–∏—Å—Ç–µ–º–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ª–æ–≥–∏—Ä—É–µ—Ç:
- ‚úÖ –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —É—Å–ø–µ—à–Ω—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤
- ‚ö†Ô∏è –û—à–∏–±–∫–∏ rate limiting
- üí° –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ø–æ –ø–æ–ª—É—á–µ–Ω–∏—é API –∫–ª—é—á–∞
- üîÑ –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ fallback –¥–∞–Ω–Ω—ã—Ö

## üöÄ –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏

### –î–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏:
1. **–û—Ç–∫–ª—é—á–∏—Ç–µ Semantic Scholar** –∏–ª–∏ –ø–æ–ª—É—á–∏—Ç–µ API –∫–ª—é—á
2. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –¥—Ä—É–≥–∏–µ –∏—Å—Ç–æ—á–Ω–∏–∫–∏ –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è

### –î–ª—è –ø—Ä–æ–¥–∞–∫—à–µ–Ω–∞:
1. **–û–±—è–∑–∞—Ç–µ–ª—å–Ω–æ –ø–æ–ª—É—á–∏—Ç–µ API –∫–ª—é—á**
2. –ù–∞—Å—Ç—Ä–æ–π—Ç–µ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ rate limiting
3. –†–∞—Å—Å–º–æ—Ç—Ä–∏—Ç–µ –ø–∞–∫–µ—Ç–Ω—É—é –æ–±—Ä–∞–±–æ—Ç–∫—É –¥–ª—è –±–æ–ª—å—à–∏—Ö –¥–∞—Ç–∞—Å–µ—Ç–æ–≤

### –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã–µ –∏—Å—Ç–æ—á–Ω–∏–∫–∏:
- **ChEMBL**: –°—Ç–∞–±–∏–ª—å–Ω—ã–π, —Ö–æ—Ä–æ—à–∏–µ –ª–∏–º–∏—Ç—ã
- **Crossref**: –ù–∞–¥–µ–∂–Ω—ã–π, —É–º–µ—Ä–µ–Ω–Ω—ã–µ –ª–∏–º–∏—Ç—ã  
- **OpenAlex**: –ë—ã—Å—Ç—Ä—ã–π, —â–µ–¥—Ä—ã–µ –ª–∏–º–∏—Ç—ã
- **PubMed**: –û—Ñ–∏—Ü–∏–∞–ª—å–Ω—ã–π, —Ç—Ä–µ–±—É–µ—Ç API –∫–ª—é—á –¥–ª—è –≤—ã—Å–æ–∫–∏—Ö –ª–∏–º–∏—Ç–æ–≤

## üîß –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–µ—Ç–∞–ª–∏

### –¢–µ–∫—É—â–∏–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ Semantic Scholar:
```python
fallback_config = FallbackConfig(
    max_retries=2,           # –¢–æ–ª—å–∫–æ 2 –ø–æ–ø—ã—Ç–∫–∏
    base_delay=30.0,         # –ë–∞–∑–æ–≤–∞—è –∑–∞–¥–µ—Ä–∂–∫–∞ 30 —Å–µ–∫—É–Ω–¥
    max_delay=300.0,         # –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è –∑–∞–¥–µ—Ä–∂–∫–∞ 5 –º–∏–Ω—É—Ç
    backoff_multiplier=2.0,  # –≠–∫—Å–ø–æ–Ω–µ–Ω—Ü–∏–∞–ª—å–Ω—ã–π —Ä–æ—Å—Ç
    jitter=True              # –°–ª—É—á–∞–π–Ω—ã–µ –≤–∞—Ä–∏–∞—Ü–∏–∏
)
```

### –£–ª—É—á—à–µ–Ω–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏:
```python
# –î–ª—è rate limiting (429):
delay = min(180.0 + (attempt * 120.0), 600.0)  # 3-10 –º–∏–Ω—É—Ç

# –î–ª—è Retry-After –∑–∞–≥–æ–ª–æ–≤–∫–æ–≤:
wait_time = max(wait_time, 300)  # –ú–∏–Ω–∏–º—É–º 5 –º–∏–Ω—É—Ç –¥–ª—è Semantic Scholar
```

## ‚úÖ –ó–∞–∫–ª—é—á–µ–Ω–∏–µ

–ü—Ä–æ–±–ª–µ–º–∞ —Ä–µ—à–∞–µ—Ç—Å—è –ø–æ–ª—É—á–µ–Ω–∏–µ–º API –∫–ª—é—á–∞ Semantic Scholar. –î–æ –ø–æ–ª—É—á–µ–Ω–∏—è –∫–ª—é—á–∞ —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –æ—Ç–∫–ª—é—á–∏—Ç—å Semantic Scholar –≤ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ –¥–ª—è –∏–∑–±–µ–∂–∞–Ω–∏—è –æ—à–∏–±–æ–∫ rate limiting.

–°–∏—Å—Ç–µ–º–∞ –ø—Ä–æ–¥–æ–ª–∂–∏—Ç —Ä–∞–±–æ—Ç–∞—Ç—å —Å –¥—Ä—É–≥–∏–º–∏ –∏—Å—Ç–æ—á–Ω–∏–∫–∞–º–∏ –¥–∞–Ω–Ω—ã—Ö, –æ–±–µ—Å–ø–µ—á–∏–≤–∞—è –ø–æ–ª–Ω–æ—Ç—É –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ –ø—É–±–ª–∏–∫–∞—Ü–∏—è—Ö.
