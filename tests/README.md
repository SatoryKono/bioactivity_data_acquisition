# Tests Directory

Эта папка содержит все тесты для проекта bioactivity-data-acquisition.

## Структура

```
tests/
├── README.md                           # Этот файл
├── test_*.py                          # Основные тесты
├── iuphar/                            # Тесты IUPHAR адаптера
│   ├── test_iuphar_*.py              # Различные тесты IUPHAR
├── integration/                       # Интеграционные тесты
│   ├── test_*_integration.py         # Тесты интеграции
├── cli/                              # Тесты CLI
│   ├── test_*.py                     # Тесты командной строки
├── scripts/                          # Тесты скриптов
│   ├── test_*.py                     # Тесты вспомогательных скриптов
└── benchmarks/                       # Бенчмарки
    └── test_performance.py           # Тесты производительности
```

## Типы тестов

### Unit тесты
- **test_*.py** - Основные unit тесты для модулей
- Тестируют отдельные функции и классы
- Быстрые, изолированные тесты

### Интеграционные тесты
- **integration/test_*_integration.py** - Тесты интеграции
- Тестируют взаимодействие между модулями
- Могут требовать внешние зависимости

### IUPHAR тесты
- **iuphar/test_iuphar_*.py** - Специализированные тесты IUPHAR адаптера
- Включают API тесты, debug тесты, validation тесты
- Помечены как `@pytest.mark.integration`

### CLI тесты
- **cli/test_*.py** - Тесты командной строки
- Тестируют CLI интерфейс и команды

### Скрипты
- **scripts/test_*.py** - Тесты вспомогательных скриптов
- Тестируют утилиты и вспомогательные функции

### Бенчмарки
- **benchmarks/test_performance.py** - Тесты производительности
- Измеряют время выполнения и использование ресурсов

## Запуск тестов

### Все тесты
```bash
pytest tests/
```

### По типам
```bash
# Unit тесты
pytest tests/ -m "not integration"

# Интеграционные тесты
pytest tests/ -m integration

# IUPHAR тесты
pytest tests/iuphar/

# CLI тесты
pytest tests/cli/

# Бенчмарки
pytest tests/benchmarks/
```

### С покрытием кода
```bash
pytest tests/ --cov=library --cov-report=html
```

## Маркеры тестов

- `@pytest.mark.integration` - Интеграционные тесты
- `@pytest.mark.slow` - Медленные тесты
- `@pytest.mark.network` - Тесты, требующие сеть
- `@pytest.mark.api` - Тесты, требующие API доступ

## Миграция

Все тестовые файлы были мигрированы из корня проекта в эту структуру:

- ✅ Удалены пустые заглушки из корня
- ✅ Исправлены импорты (src.library → library)
- ✅ Удалены манипуляции с sys.path
- ✅ Добавлены pytest маркеры
- ✅ Организованы по типам и функциональности

## Правила

1. **Все тесты должны быть в tests/** - никаких тестов в корне проекта
2. **Используйте правильные импорты** - `from library.module import function`
3. **Добавляйте маркеры** - помечайте тесты соответствующими маркерами
4. **Следуйте именованию** - `test_*.py` для всех тестовых файлов
5. **Группируйте по функциональности** - используйте подпапки для организации
