# Анализ пайплайнов

## Инвентаризация модулей

| Пайплайн \| run.py \| normalize.py \| transform.py \| Прочие файлы |
| --- \| --- \| --- \| --- \| --- |
| `base` \| нет в ветке \| нет в ветке \| нет в ветке \| base.py |
| `chembl/activity` \| есть в ветке \| есть в ветке \| нет в ветке \| — |
| `chembl/assay` \| есть в ветке \| есть в ветке \| есть в ветке \| — |
| `chembl/document` \| есть в ветке \| есть в ветке \| нет в ветке \| — |
| `chembl/target` \| есть в ветке \| нет в ветке \| есть в ветке \| — |
| `chembl/testitem` \| есть в ветке \| нет в ветке \| есть в ветке \| — |
| `chembl_descriptor` \| нет в ветке \| нет в ветке \| нет в ветке \| chembl_descriptor.py |

## `base` :: `base.py`

| Имя \| Сигнатура \| Аннотации \| Побочные эффекты \| Исключения \| Локация \| AST |
| --- \| --- \| --- \| --- \| --- \| --- \| --- |
| `PipelineBase.__init__` \| `__init__(self, config: PipelineConfig, run_id: str) -> None` \| config: PipelineConfig, run_id: str, return: None \| — \| — \| `src\bioetl\pipelines\base.py:129-145` \| `29ff68d6af` |
| `PipelineBase._ensure_pipeline_directory` \| `_ensure_pipeline_directory(self) -> Path` \| return: Path \| — \| — \| `src\bioetl\pipelines\base.py:147-153` \| `4e1d7794bf` |
| `PipelineBase._ensure_pipeline_directory_exists` \| `_ensure_pipeline_directory_exists(self) -> Path` \| return: Path \| — \| — \| `src\bioetl\pipelines\base.py:155-159` \| `d31adb1340` |
| `PipelineBase._ensure_logs_directory` \| `_ensure_logs_directory(self) -> Path` \| return: Path \| — \| — \| `src\bioetl\pipelines\base.py:161-166` \| `42cda3c359` |
| `PipelineBase._derive_trace_and_span` \| `_derive_trace_and_span(self) -> tuple[str, str]` \| return: tuple[str, str] \| — \| — \| `src\bioetl\pipelines\base.py:168-174` \| `0c3c1eaff7` |
| `PipelineBase._normalise_run_tag` \| `_normalise_run_tag(self, run_tag: str \| None = None) -> str` \| run_tag: str \| None, return: str \| — \| — \| `src\bioetl\pipelines\base.py:176-215` \| `3ed28126ee` |
| `PipelineBase.build_run_stem` \| `build_run_stem(self, run_tag: str \| None, mode: str \| None = None) -> str` \| run_tag: str \| None, mode: str \| None, return: str \| — \| — \| `src\bioetl\pipelines\base.py:217-229` \| `2d17e3c1bd` |
| `PipelineBase.plan_run_artifacts` \| `plan_run_artifacts(self, run_tag: str \| None, mode: str \| None = None, include_correlation: bool = False, include_qc_metrics: bool = False, include_metadata: bool = False, include_manifest: bool = False, extras: dict[str, Path] \| None = None, run_directory: Path \| None = None) -> RunArtifacts` \| run_tag: str \| None, mode: str \| None, include_correlation: bool, include_qc_metrics: bool, include_metadata: bool, include_manifest: bool, extras: dict[str, Path] \| None, run_directory: Path \| None, return: RunArtifacts \| — \| — \| `src\bioetl\pipelines\base.py:231-278` \| `e7d8a35f81` |
| `PipelineBase.list_run_stems` \| `list_run_stems(self) -> Sequence[str]` \| return: Sequence[str] \| — \| — \| `src\bioetl\pipelines\base.py:280-299` \| `63d87b98dc` |
| `PipelineBase.apply_retention_policy` \| `apply_retention_policy(self) -> None` \| return: None \| — \| — \| `src\bioetl\pipelines\base.py:301-314` \| `e48f30acab` |
| `PipelineBase._artifact_candidates` \| `_artifact_candidates(self, stem: str) -> Iterable[Path]` \| stem: str, return: Iterable[Path] \| — \| — \| `src\bioetl\pipelines\base.py:316-324` \| `4acd58dd14` |
| `PipelineBase.extract` \| `extract(self, *args: object, **kwargs: object) -> pd.DataFrame` \| *args: object, **kwargs: object, return: pd.DataFrame \| — \| — \| `src\bioetl\pipelines\base.py:327-332` \| `2694f01a2e` |
| `PipelineBase.extract_all` \| `extract_all(self) -> pd.DataFrame` \| return: pd.DataFrame \| — \| — \| `src\bioetl\pipelines\base.py:336-341` \| `7a51875940` |
| `PipelineBase.extract_by_ids` \| `extract_by_ids(self, ids: Sequence[str]) -> pd.DataFrame` \| ids: Sequence[str], return: pd.DataFrame \| — \| — \| `src\bioetl\pipelines\base.py:344-356` \| `55890e24ac` |
| `PipelineBase.transform` \| `transform(self, df: pd.DataFrame) -> pd.DataFrame` \| df: pd.DataFrame, return: pd.DataFrame \| — \| — \| `src\bioetl\pipelines\base.py:359-360` \| `3c9e7728da` |
| `PipelineBase.build_quality_report` \| `build_quality_report(self, df: pd.DataFrame) -> pd.DataFrame \| dict[str, object] \| None` \| df: pd.DataFrame, return: pd.DataFrame \| dict[str, object] \| None \| — \| — \| `src\bioetl\pipelines\base.py:367-371` \| `50d37eba92` |
| `PipelineBase.build_correlation_report` \| `build_correlation_report(self, df: pd.DataFrame) -> pd.DataFrame \| dict[str, object] \| None` \| df: pd.DataFrame, return: pd.DataFrame \| dict[str, object] \| None \| — \| — \| `src\bioetl\pipelines\base.py:373-376` \| `bd907bc4dc` |
| `PipelineBase.build_qc_metrics` \| `build_qc_metrics(self, df: pd.DataFrame) -> pd.DataFrame \| dict[str, object] \| None` \| df: pd.DataFrame, return: pd.DataFrame \| dict[str, object] \| None \| — \| — \| `src\bioetl\pipelines\base.py:378-384` \| `0c7dfe5c03` |
| `PipelineBase.augment_metadata` \| `augment_metadata(self, metadata: Mapping[str, object], df: pd.DataFrame) -> Mapping[str, object]` \| metadata: Mapping[str, object], df: pd.DataFrame, return: Mapping[str, object] \| — \| — \| `src\bioetl\pipelines\base.py:386-406` \| `2786fd4ffc` |
| `PipelineBase.record_extract_metadata` \| `record_extract_metadata(self, *, chembl_release: str \| None = None, filters: Mapping[str, Any] \| Sequence[tuple[str, Any]] \| None = None, requested_at_utc: datetime \| str \| None = None, **extra: Any) -> None` \| chembl_release: str \| None, filters: Mapping[str, Any] \| Sequence[tuple[str, Any]] \| None, requested_at_utc: datetime \| str \| None,**extra: Any, return: None \| — \| — \| `src\bioetl\pipelines\base.py:408-459` \| `0114398f55` |
| `PipelineBase.close_resources` \| `close_resources(self) -> None` \| return: None \| — \| — \| `src\bioetl\pipelines\base.py:461-464` \| `6f5c59ee73` |
| `PipelineBase.register_client` \| `register_client(self, name: str, client: Callable[[], None] \| object, *, close_method: str = 'close') -> None` \| name: str, client: Callable[[], None] \| object, close_method: str, return: None \| — \| TypeError(msg), ValueError(msg) \| `src\bioetl\pipelines\base.py:466-500` \| `7934b3724b` |
| `PipelineBase.read_input_table` \| `read_input_table(self, path: Path, *, limit: int \| None = None, sample: int \| None = None) -> pd.DataFrame` \| path: Path, limit: int \| None, sample: int \| None, return: pd.DataFrame \| logging: log.debug, log.info, log.warning; network: UnifiedLogger.get, df.head \| — \| `src\bioetl\pipelines\base.py:506-571` \| `7884ba0488` |
| `PipelineBase._read_input_ids` \| `_read_input_ids(self, *, id_column_name: str, limit: int \| None = None, sample: int \| None = None) -> list[str]` \| id_column_name: str, limit: int \| None, sample: int \| None, return: list[str] \| logging: log.debug, log.error, log.info, log.warning; network: UnifiedLogger.get \| ValueError(msg) \| `src\bioetl\pipelines\base.py:573-650` \| `2547e0ed8c` |
| `PipelineBase._get_id_column_name` \| `_get_id_column_name(self) -> str` \| return: str \| — \| — \| `src\bioetl\pipelines\base.py:652-690` \| `826e70dc2c` |
| `PipelineBase.execute_enrichment_stages` \| `execute_enrichment_stages(self, df: pd.DataFrame, *, stages: Sequence[str] \| None = None) -> pd.DataFrame` \| df: pd.DataFrame, stages: Sequence[str] \| None, return: pd.DataFrame \| logging: log.debug; network: UnifiedLogger.get \| — \| `src\bioetl\pipelines\base.py:692-723` \| `ad4d73dc7d` |
| `PipelineBase.run_schema_validation` \| `run_schema_validation(self, df: pd.DataFrame, schema_identifier: str, *, dataset_name: str = 'secondary') -> pd.DataFrame` \| df: pd.DataFrame, schema_identifier: str, dataset_name: str, return: pd.DataFrame \| logging: log.debug, log.warning; network: UnifiedLogger.get \| TypeError(msg), raise \| `src\bioetl\pipelines\base.py:725-804` \| `c5bed87aa0` |
| `PipelineBase.finalize_with_standard_metadata` \| `finalize_with_standard_metadata(self, metadata: Mapping[str, Any], *, df: pd.DataFrame \| None = None) -> dict[str, Any]` \| metadata: Mapping[str, Any], df: pd.DataFrame \| None, return: dict[str, Any] \| — \| — \| `src\bioetl\pipelines\base.py:806-842` \| `d60cda0e7b` |
| `PipelineBase.set_export_metadata_from_dataframe` \| `set_export_metadata_from_dataframe(self, df: pd.DataFrame, *, metadata: Mapping[str, Any] \| None = None) -> dict[str, Any]` \| df: pd.DataFrame, metadata: Mapping[str, Any] \| None, return: dict[str, Any] \| — \| — \| `src\bioetl\pipelines\base.py:844-878` \| `fc95ab4a51` |
| `PipelineBase.record_validation_issue` \| `record_validation_issue(self, *, severity: str = 'warning', dataset: str = 'primary', column: str \| None = None, check: str \| None = None, count: int \| None = None, error: str \| None = None) -> None` \| severity: str, dataset: str, column: str \| None, check: str \| None, count: int \| None, error: str \| None, return: None \| logging: log.warning; network: UnifiedLogger.get \| — \| `src\bioetl\pipelines\base.py:880-919` \| `e80051a7bd` |
| `PipelineBase.reset_stage_context` \| `reset_stage_context(self, stage: str) -> None` \| stage: str, return: None \| — \| — \| `src\bioetl\pipelines\base.py:921-932` \| `7422db195a` |
| `PipelineBase.init_chembl_client` \| `init_chembl_client(self, *, base_url: str \| None = None) -> UnifiedAPIClient` \| base_url: str \| None, return: UnifiedAPIClient \| logging: log.debug; network: UnifiedLogger.get, parameters.get, self.config.sources.get \| TypeError(msg), ValueError(msg) \| `src\bioetl\pipelines\base.py:934-973` \| `8e5572193e` |
| `PipelineBase._component_for_stage` \| `_component_for_stage(self, stage: str) -> str` \| stage: str, return: str \| — \| — \| `src\bioetl\pipelines\base.py:979-980` \| `7874f0f370` |
| `PipelineBase._safe_len` \| `_safe_len(self, payload: object) -> int \| None` \| payload: object, return: int \| None \| — \| — \| `src\bioetl\pipelines\base.py:982-990` \| `b4bf5abda1` |
| `PipelineBase._schema_column_specs` \| `_schema_column_specs(self) -> Mapping[str, Mapping[str, Any]]` \| return: Mapping[str, Mapping[str, Any]] \| — \| — \| `src\bioetl\pipelines\base.py:992-1007` \| `09657b9380` |
| `PipelineBase._default_validation_schema_entry` \| `_default_validation_schema_entry(self) -> SchemaRegistryEntry \| None` \| return: SchemaRegistryEntry \| None \| — \| — \| `src\bioetl\pipelines\base.py:1009-1018` \| `88ed851a59` |
| `PipelineBase._ensure_schema_columns` \| `_ensure_schema_columns(self, df: pd.DataFrame, column_order_or_log: Sequence[str] \| BoundLogger, log: BoundLogger \| None = None) -> pd.DataFrame` \| df: pd.DataFrame, column_order_or_log: Sequence[str] \| BoundLogger, log: BoundLogger \| None, return: pd.DataFrame \| logging: logger.debug; network: UnifiedLogger.get, spec.get, specs.get \| TypeError('column_order_or_log must be schema column order when log is provided') \| `src\bioetl\pipelines\base.py:1020-1101` \| `f30d1fa944` |
| `PipelineBase._order_schema_columns` \| `_order_schema_columns(self, df: pd.DataFrame, column_order: Sequence[str]) -> pd.DataFrame` \| df: pd.DataFrame, column_order: Sequence[str], return: pd.DataFrame \| — \| — \| `src\bioetl\pipelines\base.py:1103-1125` \| `4b2eb5356f` |
| `PipelineBase._normalize_data_types` \| `_normalize_data_types(self, df: pd.DataFrame, schema: DataFrameSchema \| None, log: Any) -> pd.DataFrame` \| df: pd.DataFrame, schema: DataFrameSchema \| None, log: Any, return: pd.DataFrame \| logging: log.warning \| — \| `src\bioetl\pipelines\base.py:1127-1189` \| `65a06abece` |
| `PipelineBase._cleanup_registered_clients` \| `_cleanup_registered_clients(self) -> None` \| return: None \| logging: log.warning; network: UnifiedLogger.get \| — \| `src\bioetl\pipelines\base.py:1191-1201` \| `70d8374ccb` |
| `PipelineBase.write` \| `write(self, df: pd.DataFrame, output_path: Path, *, extended: bool = False, include_correlation: bool \| None = None, include_qc_metrics: bool \| None = None) -> RunResult` \| df: pd.DataFrame, output_path: Path, extended: bool, include_correlation: bool \| None, include_qc_metrics: bool \| None, return: RunResult \| logging: log.debug; network: UnifiedLogger.get, row.get \| TypeError(msg) \| `src\bioetl\pipelines\base.py:1203-1377` \| `24932cdd43` |
| `PipelineBase.run` \| `run(self, output_path: Path, *args: object, extended: bool = False, include_correlation: bool \| None = None, include_qc_metrics: bool \| None = None, **kwargs: object) -> RunResult` \| output_path: Path,*args: object, extended: bool, include_correlation: bool \| None, include_qc_metrics: bool \| None, **kwargs: object, return: RunResult \| logging: log.error, log.info, log.warning; network: UnifiedLogger.get \| raise \| `src\bioetl\pipelines\base.py:1379-1509` \| `f3768629ca` |
| `PipelineBase.validate` \| `validate(self, df: pd.DataFrame) -> pd.DataFrame` \| df: pd.DataFrame, return: pd.DataFrame \| logging: log.debug, log.warning; network: UnifiedLogger.get, summary.get \| raise \| `src\bioetl\pipelines\base.py:1511-1679` \| `f8f9d8bb88` |
| `PipelineBase._ensure_load_meta_ids` \| `_ensure_load_meta_ids(self, df: pd.DataFrame) -> pd.DataFrame` \| df: pd.DataFrame, return: pd.DataFrame \| — \| KeyError(msg) \| `src\bioetl\pipelines\base.py:1681-1721` \| `16dfb677bd` |
| `PipelineBase._clone_schema_with_options` \| `_clone_schema_with_options(schema: Any, *, strict: bool \| None, coerce: bool \| None) -> Any` \| schema: Any, strict: bool \| None, coerce: bool \| None, return: Any \| — \| — \| `src\bioetl\pipelines\base.py:1724-1754` \| `7f3b716386` |
| `PipelineBase._reorder_columns` \| `_reorder_columns(self, df: pd.DataFrame, column_order: Sequence[str]) -> pd.DataFrame` \| df: pd.DataFrame, column_order: Sequence[str], return: pd.DataFrame \| logging: UnifiedLogger.get(__name__).debug; network: UnifiedLogger.get \| ValueError(msg) \| `src\bioetl\pipelines\base.py:1756-1778` \| `92ff3b596b` |
| `PipelineBase._deterministic_sample_seed` \| `_deterministic_sample_seed(self) -> int` \| return: int \| — \| — \| `src\bioetl\pipelines\base.py:1780-1783` \| `abb7cf928f` |
| `PipelineBase._apply_cli_sample` \| `_apply_cli_sample(self, df: pd.DataFrame) -> pd.DataFrame` \| df: pd.DataFrame, return: pd.DataFrame \| logging: log.debug, log.info; network: UnifiedLogger.get \| — \| `src\bioetl\pipelines\base.py:1785-1808` \| `f4d3f0ac36` |

## `chembl/activity` :: `normalize.py`

| Имя \| Сигнатура \| Аннотации \| Побочные эффекты \| Исключения \| Локация \| AST |
| --- \| --- \| --- \| --- \| --- \| --- \| --- |
| `_extract_first_present` \| `_extract_first_present(record: Mapping[str, Any], keys: Iterable[str]) -> Any` \| record: Mapping[str, Any], keys: Iterable[str], return: Any \| — \| — \| `src\bioetl\pipelines\chembl\activity\normalize.py:52-64` \| `da6799bb7a` |
| `enrich_with_assay` \| `enrich_with_assay(df_act: pd.DataFrame, client: ChemblClient, cfg: Mapping[str, Any]) -> pd.DataFrame` \| df_act: pd.DataFrame, client: ChemblClient, cfg: Mapping[str, Any], return: pd.DataFrame \| logging: log.debug, log.info, log.warning; network: UnifiedLogger.get, cfg.get, client.fetch_assays_by_ids, rec.get \| — \| `src\bioetl\pipelines\chembl\activity\normalize.py:67-184` \| `beb85ce339` |
| `enrich_with_compound_record` \| `enrich_with_compound_record(df_act: pd.DataFrame, client: ChemblClient, cfg: Mapping[str, Any]) -> pd.DataFrame` \| df_act: pd.DataFrame, client: ChemblClient, cfg: Mapping[str, Any], return: pd.DataFrame \| logging: log.debug, log.info, log.warning; network: UnifiedLogger.get, fallback_data.get, pairs_data.get, row.get \| — \| `src\bioetl\pipelines\chembl\activity\normalize.py:187-436` \| `24c7cc978d` |
| `_enrich_by_pairs` \| `_enrich_by_pairs(df_act: pd.DataFrame, client: ChemblClient, cfg: Mapping[str, Any], log: Any) -> pd.DataFrame` \| df_act: pd.DataFrame, client: ChemblClient, cfg: Mapping[str, Any], log: Any, return: pd.DataFrame \| logging: log.debug, log.info, log.warning; network: _COMPOUND_FIELD_ALIASES.get, cfg.get, client.fetch_compound_records_by_pairs, compound_records_dict.get \| — \| `src\bioetl\pipelines\chembl\activity\normalize.py:439-615` \| `c27f49084a` |
| `_enrich_by_record_id` \| `_enrich_by_record_id(df_act: pd.DataFrame, client: ChemblClient, cfg: Mapping[str, Any], log: Any) -> pd.DataFrame` \| df_act: pd.DataFrame, client: ChemblClient, cfg: Mapping[str, Any], log: Any, return: pd.DataFrame \| logging: log.debug, log.info, log.warning; network: cfg.get, client.paginate, record.get, row.get \| — \| `src\bioetl\pipelines\chembl\activity\normalize.py:618-755` \| `6ab8a78c44` |
| `enrich_with_data_validity` \| `enrich_with_data_validity(df_act: pd.DataFrame, client: ChemblClient, cfg: Mapping[str, Any]) -> pd.DataFrame` \| df_act: pd.DataFrame, client: ChemblClient, cfg: Mapping[str, Any], return: pd.DataFrame \| logging: log.debug, log.info, log.warning; network: UnifiedLogger.get, cfg.get, client.fetch_data_validity_lookup, record.get, records_dict.get, row.get \| — \| `src\bioetl\pipelines\chembl\activity\normalize.py:758-890` \| `999fda3d14` |

## `chembl/activity` :: `run.py`

| Имя \| Сигнатура \| Аннотации \| Побочные эффекты \| Исключения \| Локация \| AST |
| --- \| --- \| --- \| --- \| --- \| --- \| --- |
| `ChemblActivityPipeline.__init__` \| `__init__(self, config: PipelineConfig, run_id: str) -> None` \| config: PipelineConfig, run_id: str, return: None \| — \| — \| `src\bioetl\pipelines\chembl\activity\run.py:111-115` \| `976695acd0` |
| `ChemblActivityPipeline.chembl_release` \| `chembl_release(self) -> str \| None` \| return: str \| None \| — \| — \| `src\bioetl\pipelines\chembl\activity\run.py:118-121` \| `ae180d5058` |
| `ChemblActivityPipeline.extract` \| `extract(self, *args: object, **kwargs: object) -> pd.DataFrame` \| *args: object, **kwargs: object, return: pd.DataFrame \| network: UnifiedLogger.get \| — \| `src\bioetl\pipelines\chembl\activity\run.py:123-158` \| `9d89e75505` |
| `ChemblActivityPipeline.extract_all` \| `extract_all(self) -> pd.DataFrame` \| return: pd.DataFrame \| — \| — \| `src\bioetl\pipelines\chembl\activity\run.py:160-163` \| `48ddb42690` |
| `ChemblActivityPipeline.extract_by_ids` \| `extract_by_ids(self, ids: Sequence[str]) -> pd.DataFrame` \| ids: Sequence[str], return: pd.DataFrame \| logging: log.info, log.warning; network: UnifiedLogger.get, batch_stats.get \| — \| `src\bioetl\pipelines\chembl\activity\run.py:165-304` \| `7f994a9e31` |
| `ChemblActivityPipeline._prepare_activity_iteration` \| `_prepare_activity_iteration(self, *, client_name: str = 'chembl_activity_client') -> tuple[ActivitySourceConfig, ChemblClient, ChemblActivityClient, list[str]]` \| client_name: str, return: tuple[ActivitySourceConfig, ChemblClient, ChemblActivityClient, list[str]] \| network: UnifiedLogger.get \| — \| `src\bioetl\pipelines\chembl\activity\run.py:306-341` \| `0b8064171a` |
| `ChemblActivityPipeline._build_activity_descriptor` \| `_build_activity_descriptor(self) -> ChemblExtractionDescriptor[ChemblActivityPipeline]` \| return: ChemblExtractionDescriptor[ChemblActivityPipeline] \| — \| — \| `src\bioetl\pipelines\chembl\activity\run.py:343-415` \| `9cdba1a482` |
| `ChemblActivityPipeline._materialize_activity_record` \| `_materialize_activity_record(self, payload: Mapping[str, Any], *, activity_id: int \| None = None) -> dict[str, Any]` \| payload: Mapping[str, Any], activity_id: int \| None, return: dict[str, Any] \| — \| — \| `src\bioetl\pipelines\chembl\activity\run.py:417-430` \| `bdc04e067b` |
| `ChemblActivityPipeline._coerce_activity_dataset` \| `_coerce_activity_dataset(self, dataset: object) -> pd.DataFrame` \| dataset: object, return: pd.DataFrame \| — \| TypeError(msg) \| `src\bioetl\pipelines\chembl\activity\run.py:432-450` \| `53895c3ee7` |
| `ChemblActivityPipeline._normalize_activity_ids` \| `_normalize_activity_ids(self, input_frame: pd.DataFrame, *, limit: int \| None, log: BoundLogger) -> list[tuple[int, str]]` \| input_frame: pd.DataFrame, limit: int \| None, log: BoundLogger, return: list[tuple[int, str]] \| logging: log.warning \| — \| `src\bioetl\pipelines\chembl\activity\run.py:452-496` \| `fddd606561` |
| `ChemblActivityPipeline._collect_records_by_ids` \| `_collect_records_by_ids(self, normalized_ids: Sequence[tuple[int, str]], activity_iterator: ChemblActivityClient, *, select_fields: Sequence[str] \| None) -> tuple[list[dict[str, Any]], dict[str, Any]]` \| normalized_ids: Sequence[tuple[int, str]], activity_iterator: ChemblActivityClient, select_fields: Sequence[str] \| None, return: tuple[list[dict[str, Any]], dict[str, Any]] \| logging: log.debug, log.error, log.warning; network: UnifiedLogger.get, chunk_records.get, item.get, key_to_numeric.get, record.get \| — \| `src\bioetl\pipelines\chembl\activity\run.py:498-637` \| `e0c7650fbc` |
| `ChemblActivityPipeline.transform` \| `transform(self, df: pd.DataFrame) -> pd.DataFrame` \| df: pd.DataFrame, return: pd.DataFrame \| logging: log.debug, log.info; network: UnifiedLogger.get \| — \| `src\bioetl\pipelines\chembl\activity\run.py:639-699` \| `97a769d40f` |
| `ChemblActivityPipeline.validate` \| `validate(self, df: pd.DataFrame) -> pd.DataFrame` \| df: pd.DataFrame, return: pd.DataFrame \| logging: log.debug, log.error, log.info; network: UnifiedLogger.get \| ValueError(msg), raise \| `src\bioetl\pipelines\chembl\activity\run.py:701-793` \| `493a77b931` |
| `ChemblActivityPipeline._should_enrich_compound_record` \| `_should_enrich_compound_record(self) -> bool` \| return: bool \| network: activity_section.get, chembl_section.get, compound_record_section.get, enrich_section.get \| — \| `src\bioetl\pipelines\chembl\activity\run.py:799-820` \| `ac712aea6f` |
| `ChemblActivityPipeline._enrich_compound_record` \| `_enrich_compound_record(self, df: pd.DataFrame) -> pd.DataFrame` \| df: pd.DataFrame, return: pd.DataFrame \| logging: log.warning; network: UnifiedLogger.get, activity_section.get, chembl_section.get, enrich_section.get \| — \| `src\bioetl\pipelines\chembl\activity\run.py:822-867` \| `a73a98513c` |
| `ChemblActivityPipeline._should_enrich_assay` \| `_should_enrich_assay(self) -> bool` \| return: bool \| network: activity_section.get, assay_section.get, chembl_section.get, enrich_section.get \| — \| `src\bioetl\pipelines\chembl\activity\run.py:869-890` \| `ac712aea6f` |
| `ChemblActivityPipeline._enrich_assay` \| `_enrich_assay(self, df: pd.DataFrame) -> pd.DataFrame` \| df: pd.DataFrame, return: pd.DataFrame \| logging: log.warning; network: UnifiedLogger.get, activity_section.get, chembl_section.get, enrich_section.get \| — \| `src\bioetl\pipelines\chembl\activity\run.py:892-935` \| `a73a98513c` |
| `ChemblActivityPipeline._should_enrich_data_validity` \| `_should_enrich_data_validity(self) -> bool` \| return: bool \| network: activity_section.get, chembl_section.get, data_validity_section.get, enrich_section.get \| — \| `src\bioetl\pipelines\chembl\activity\run.py:937-958` \| `ac712aea6f` |
| `ChemblActivityPipeline._enrich_data_validity` \| `_enrich_data_validity(self, df: pd.DataFrame) -> pd.DataFrame` \| df: pd.DataFrame, return: pd.DataFrame \| logging: log.info, log.warning; network: UnifiedLogger.get, activity_section.get, chembl_section.get, enrich_section.get \| — \| `src\bioetl\pipelines\chembl\activity\run.py:960-1014` \| `024779fd41` |
| `ChemblActivityPipeline._should_enrich_molecule` \| `_should_enrich_molecule(self) -> bool` \| return: bool \| network: activity_section.get, chembl_section.get, enrich_section.get, molecule_section.get \| — \| `src\bioetl\pipelines\chembl\activity\run.py:1016-1037` \| `ac712aea6f` |
| `ChemblActivityPipeline._enrich_molecule` \| `_enrich_molecule(self, df: pd.DataFrame) -> pd.DataFrame` \| df: pd.DataFrame, return: pd.DataFrame \| logging: log.info, log.warning; network: UnifiedLogger.get, activity_section.get, chembl_section.get, enrich_section.get \| — \| `src\bioetl\pipelines\chembl\activity\run.py:1039-1108` \| `70c4bbf9a8` |
| `ChemblActivityPipeline._extract_from_chembl` \| `_extract_from_chembl(self, dataset: object, chembl_client: ChemblClient \| Any, activity_iterator: ChemblActivityClient, *, limit: int \| None = None, select_fields: Sequence[str] \| None = None) -> pd.DataFrame` \| dataset: object, chembl_client: ChemblClient \| Any, activity_iterator: ChemblActivityClient, limit: int \| None, select_fields: Sequence[str] \| None, return: pd.DataFrame \| logging: log.info; network: UnifiedLogger.get \| ValueError(msg) \| `src\bioetl\pipelines\chembl\activity\run.py:1110-1174` \| `efde5ee99c` |
| `ChemblActivityPipeline._check_cache` \| `_check_cache(self, batch_ids: Sequence[str], release: str \| None) -> dict[str, dict[str, Any]] \| None` \| batch_ids: Sequence[str], release: str \| None, return: dict[str, dict[str, Any]] \| None \| — \| — \| `src\bioetl\pipelines\chembl\activity\run.py:1176-1221` \| `709bf7cf88` |
| `ChemblActivityPipeline._store_cache` \| `_store_cache(self, batch_ids: Sequence[str], batch_data: Mapping[str, Mapping[str, Any]], release: str \| None) -> None` \| batch_ids: Sequence[str], batch_data: Mapping[str, Mapping[str, Any]], release: str \| None, return: None \| logging: log.debug; network: UnifiedLogger.get \| — \| `src\bioetl\pipelines\chembl\activity\run.py:1223-1250` \| `7a3a11f415` |
| `ChemblActivityPipeline._cache_file_path` \| `_cache_file_path(self, batch_ids: Sequence[str], release: str \| None) -> Path` \| batch_ids: Sequence[str], release: str \| None, return: Path \| — \| — \| `src\bioetl\pipelines\chembl\activity\run.py:1252-1255` \| `27f1bec84e` |
| `ChemblActivityPipeline._cache_directory` \| `_cache_directory(self, release: str \| None) -> Path` \| release: str \| None, return: Path \| — \| — \| `src\bioetl\pipelines\chembl\activity\run.py:1257-1267` \| `c69c74f6da` |
| `ChemblActivityPipeline._cache_key` \| `_cache_key(self, batch_ids: Sequence[str], release: str \| None) -> str` \| batch_ids: Sequence[str], release: str \| None, return: str \| — \| — \| `src\bioetl\pipelines\chembl\activity\run.py:1269-1277` \| `4c1d4a1919` |
| `ChemblActivityPipeline._sanitize_cache_component` \| `_sanitize_cache_component(value: str) -> str` \| value: str, return: str \| — \| — \| `src\bioetl\pipelines\chembl\activity\run.py:1280-1282` \| `d174f15099` |
| `ChemblActivityPipeline._create_fallback_record` \| `_create_fallback_record(self, activity_id: int, error: Exception \| None = None) -> dict[str, Any]` \| activity_id: int, error: Exception \| None, return: dict[str, Any] \| — \| — \| `src\bioetl\pipelines\chembl\activity\run.py:1284-1323` \| `b038d253d5` |
| `ChemblActivityPipeline._ensure_comment_fields` \| `_ensure_comment_fields(self, df: pd.DataFrame, log: BoundLogger) -> pd.DataFrame` \| df: pd.DataFrame, log: BoundLogger, return: pd.DataFrame \| logging: log.debug \| — \| `src\bioetl\pipelines\chembl\activity\run.py:1325-1358` \| `fd642ed6d5` |
| `ChemblActivityPipeline._extract_data_validity_descriptions` \| `_extract_data_validity_descriptions(self, df: pd.DataFrame, client: ChemblClient, log: BoundLogger) -> pd.DataFrame` \| df: pd.DataFrame, client: ChemblClient, log: BoundLogger, return: pd.DataFrame \| logging: log.debug, log.info, log.warning; network: client.fetch_data_validity_lookup, record.get, records_dict.get, row.get \| — \| `src\bioetl\pipelines\chembl\activity\run.py:1360-1496` \| `8d8a6bd212` |
| `ChemblActivityPipeline._extract_assay_fields` \| `_extract_assay_fields(self, df: pd.DataFrame, client: ChemblClient, log: BoundLogger) -> pd.DataFrame` \| df: pd.DataFrame, client: ChemblClient, log: BoundLogger, return: pd.DataFrame \| logging: log.debug, log.info, log.warning; network: client.fetch_assays_by_ids, record.get, records_dict.get, row.get \| — \| `src\bioetl\pipelines\chembl\activity\run.py:1498-1682` \| `4b1fb39117` |
| `ChemblActivityPipeline._log_validity_comments_metrics` \| `_log_validity_comments_metrics(self, df: pd.DataFrame, log: BoundLogger) -> None` \| df: pd.DataFrame, log: BoundLogger, return: None \| logging: log.info, log.warning; network: non_null_comments_series[unknown_mask].value_counts().head, typed_series.value_counts().head \| — \| `src\bioetl\pipelines\chembl\activity\run.py:1684-1754` \| `2325017e31` |
| `ChemblActivityPipeline._get_data_validity_comment_whitelist` \| `_get_data_validity_comment_whitelist(self) -> list[str]` \| return: list[str] \| logging: UnifiedLogger.get(__name__).bind(component=f'{self.pipeline_code}.validation', run_id=self.run_id).error; network: UnifiedLogger.get \| raise \| `src\bioetl\pipelines\chembl\activity\run.py:1756-1777` \| `58ee9ea70e` |
| `ChemblActivityPipeline._extract_nested_fields` \| `_extract_nested_fields(self, record: dict[str, Any]) -> dict[str, Any]` \| record: dict[str, Any], return: dict[str, Any] \| network: record.get \| — \| `src\bioetl\pipelines\chembl\activity\run.py:1779-1805` \| `3800c96035` |
| `ChemblActivityPipeline._extract_activity_properties_fields` \| `_extract_activity_properties_fields(self, record: dict[str, Any]) -> dict[str, Any]` \| record: dict[str, Any], return: dict[str, Any] \| logging: log.debug, log.warning; network: UnifiedLogger.get, dedup_stats.get, prop.get, record.get, validation_stats.get \| — \| `src\bioetl\pipelines\chembl\activity\run.py:1807-2062` \| `adef41b181` |
| `ChemblActivityPipeline._coerce_mapping` \| `_coerce_mapping(payload: Any) -> dict[str, Any]` \| payload: Any, return: dict[str, Any] \| — \| — \| `src\bioetl\pipelines\chembl\activity\run.py:2065-2068` \| `8d81eb4261` |
| `ChemblActivityPipeline._extract_chembl_release` \| `_extract_chembl_release(payload: Mapping[str, Any]) -> str \| None` \| payload: Mapping[str, Any], return: str \| None \| network: payload.get \| — \| `src\bioetl\pipelines\chembl\activity\run.py:2071-2078` \| `758b51b3ad` |
| `ChemblActivityPipeline._extract_page_items` \| `_extract_page_items(payload: Mapping[str, Any], items_keys: Sequence[str] \| None = None) -> list[dict[str, Any]]` \| payload: Mapping[str, Any], items_keys: Sequence[str] \| None, return: list[dict[str, Any]] \| — \| — \| `src\bioetl\pipelines\chembl\activity\run.py:2081-2090` \| `37f57b272d` |
| `ChemblActivityPipeline._next_link` \| `_next_link(payload: Mapping[str, Any], base_url: str) -> str \| None` \| payload: Mapping[str, Any], base_url: str, return: str \| None \| network: page_meta.get, payload.get \| — \| `src\bioetl\pipelines\chembl\activity\run.py:2093-2189` \| `e5a5e1dcf3` |
| `ChemblActivityPipeline._harmonize_identifier_columns` \| `_harmonize_identifier_columns(self, df: pd.DataFrame, log: BoundLogger) -> pd.DataFrame` \| df: pd.DataFrame, log: BoundLogger, return: pd.DataFrame \| logging: log.debug \| — \| `src\bioetl\pipelines\chembl\activity\run.py:2195-2237` \| `ee6e50d9c0` |
| `ChemblActivityPipeline._schema_column_specs` \| `_schema_column_specs(self) -> Mapping[str, Mapping[str, Any]]` \| return: Mapping[str, Mapping[str, Any]] \| — \| — \| `src\bioetl\pipelines\chembl\activity\run.py:2239-2244` \| `b13e08b52c` |
| `ChemblActivityPipeline._normalize_identifiers` \| `_normalize_identifiers(self, df: pd.DataFrame, log: BoundLogger) -> pd.DataFrame` \| df: pd.DataFrame, log: BoundLogger, return: pd.DataFrame \| logging: log.debug \| — \| `src\bioetl\pipelines\chembl\activity\run.py:2246-2278` \| `3d90af80ea` |
| `ChemblActivityPipeline._finalize_identifier_columns` \| `_finalize_identifier_columns(self, df: pd.DataFrame, log: BoundLogger) -> pd.DataFrame` \| df: pd.DataFrame, log: BoundLogger, return: pd.DataFrame \| logging: log.warning; network: df.loc[mismatch_mask, ['molecule_chembl_id', 'testitem_chembl_id']].drop_duplicates().head \| — \| `src\bioetl\pipelines\chembl\activity\run.py:2280-2325` \| `12be860815` |
| `ChemblActivityPipeline._finalize_output_columns` \| `_finalize_output_columns(self, df: pd.DataFrame, log: BoundLogger) -> pd.DataFrame` \| df: pd.DataFrame, log: BoundLogger, return: pd.DataFrame \| logging: log.debug, log.warning \| — \| `src\bioetl\pipelines\chembl\activity\run.py:2327-2351` \| `6cd852edd5` |
| `ChemblActivityPipeline._filter_invalid_required_fields` \| `_filter_invalid_required_fields(self, df: pd.DataFrame, log: BoundLogger) -> pd.DataFrame` \| df: pd.DataFrame, log: BoundLogger, return: pd.DataFrame \| logging: log.warning; network: invalid_rows['activity_id'].head \| — \| `src\bioetl\pipelines\chembl\activity\run.py:2353-2409` \| `21e476b338` |
| `ChemblActivityPipeline._normalize_measurements` \| `_normalize_measurements(self, df: pd.DataFrame, log: BoundLogger) -> pd.DataFrame` \| df: pd.DataFrame, log: BoundLogger, return: pd.DataFrame \| logging: log.debug, log.warning \| — \| `src\bioetl\pipelines\chembl\activity\run.py:2411-2580` \| `3995260451` |
| `ChemblActivityPipeline._normalize_string_fields` \| `_normalize_string_fields(self, df: pd.DataFrame, log: BoundLogger) -> pd.DataFrame` \| df: pd.DataFrame, log: BoundLogger, return: pd.DataFrame \| logging: log.debug, log.warning \| — \| `src\bioetl\pipelines\chembl\activity\run.py:2582-2633` \| `21eb40e242` |
| `ChemblActivityPipeline._normalize_nested_structures` \| `_normalize_nested_structures(self, df: pd.DataFrame, log: BoundLogger) -> pd.DataFrame` \| df: pd.DataFrame, log: BoundLogger, return: pd.DataFrame \| logging: log.warning \| — \| `src\bioetl\pipelines\chembl\activity\run.py:2635-2687` \| `e6895f346b` |
| `ChemblActivityPipeline._serialize_activity_properties` \| `_serialize_activity_properties(self, value: Any, log: BoundLogger \| None = None) -> str \| None` \| value: Any, log: BoundLogger \| None, return: str \| None \| logging: log.warning \| — \| `src\bioetl\pipelines\chembl\activity\run.py:2689-2702` \| `24f8cf730d` |
| `ChemblActivityPipeline._normalize_activity_properties_items` \| `_normalize_activity_properties_items(self, value: Any, log: BoundLogger \| None = None) -> list[dict[str, Any]] \| None` \| value: Any, log: BoundLogger \| None, return: list[dict[str, Any]] \| None \| logging: log.warning; network: item_mapping.get, normalized_item.get \| — \| `src\bioetl\pipelines\chembl\activity\run.py:2704-2764` \| `02b41f5582` |
| `ChemblActivityPipeline._validate_activity_properties_truv` \| `_validate_activity_properties_truv(self, properties: list[dict[str, Any]], log: BoundLogger, activity_id: Any \| None = None) -> tuple[list[dict[str, Any]], dict[str, int]]` \| properties: list[dict[str, Any]], log: BoundLogger, activity_id: Any \| None, return: tuple[list[dict[str, Any]], dict[str, int]] \| logging: log.warning; network: prop.get \| — \| `src\bioetl\pipelines\chembl\activity\run.py:2766-2841` \| `d0f8c77b35` |
| `ChemblActivityPipeline._deduplicate_activity_properties` \| `_deduplicate_activity_properties(self, properties: list[dict[str, Any]], log: BoundLogger, activity_id: Any \| None = None) -> tuple[list[dict[str, Any]], dict[str, int]]` \| properties: list[dict[str, Any]], log: BoundLogger, activity_id: Any \| None, return: tuple[list[dict[str, Any]], dict[str, int]] \| logging: log.debug; network: prop.get \| — \| `src\bioetl\pipelines\chembl\activity\run.py:2843-2899` \| `8e196938b0` |
| `ChemblActivityPipeline._add_row_metadata` \| `_add_row_metadata(self, df: pd.DataFrame, log: BoundLogger) -> pd.DataFrame` \| df: pd.DataFrame, log: BoundLogger, return: pd.DataFrame \| logging: log.debug \| — \| `src\bioetl\pipelines\chembl\activity\run.py:2901-2924` \| `8e671f3073` |
| `ChemblActivityPipeline._normalize_data_types` \| `_normalize_data_types(self, df: pd.DataFrame, schema: Any, log: BoundLogger) -> pd.DataFrame` \| df: pd.DataFrame, schema: Any, log: BoundLogger, return: pd.DataFrame \| logging: log.warning \| — \| `src\bioetl\pipelines\chembl\activity\run.py:2926-3074` \| `4d27d7ff3c` |
| `ChemblActivityPipeline._validate_foreign_keys` \| `_validate_foreign_keys(self, df: pd.DataFrame, log: BoundLogger) -> pd.DataFrame` \| df: pd.DataFrame, log: BoundLogger, return: pd.DataFrame \| logging: log.warning \| — \| `src\bioetl\pipelines\chembl\activity\run.py:3076-3106` \| `82b07ea901` |
| `ChemblActivityPipeline._check_activity_id_uniqueness` \| `_check_activity_id_uniqueness(self, df: pd.DataFrame, log: BoundLogger) -> None` \| df: pd.DataFrame, log: BoundLogger, return: None \| logging: log.debug, log.error, log.warning \| ValueError(msg) \| `src\bioetl\pipelines\chembl\activity\run.py:3108-3131` \| `1684913fa7` |
| `ChemblActivityPipeline._validate_data_validity_comment_soft_enum` \| `_validate_data_validity_comment_soft_enum(self, df: pd.DataFrame, log: BoundLogger) -> None` \| df: pd.DataFrame, log: BoundLogger, return: None \| logging: log.warning; network: non_null_comments_series[unknown_mask].value_counts().head \| — \| `src\bioetl\pipelines\chembl\activity\run.py:3133-3183` \| `b16a65787e` |
| `ChemblActivityPipeline._check_foreign_key_integrity` \| `_check_foreign_key_integrity(self, df: pd.DataFrame, log: BoundLogger) -> None` \| df: pd.DataFrame, log: BoundLogger, return: None \| logging: log.debug, log.error, log.warning \| ValueError(msg) \| `src\bioetl\pipelines\chembl\activity\run.py:3185-3232` \| `62f82728de` |
| `ChemblActivityPipeline._log_detailed_validation_errors` \| `_log_detailed_validation_errors(self, failure_cases: pd.DataFrame, payload: pd.DataFrame, log: BoundLogger) -> None` \| failure_cases: pd.DataFrame, payload: pd.DataFrame, log: BoundLogger, return: None \| logging: log.error, log.warning; network: error_row.get, failure_cases.head \| — \| `src\bioetl\pipelines\chembl\activity\run.py:3234-3302` \| `c4b27b09f2` |
| `ChemblActivityPipeline.build_quality_report` \| `build_quality_report(self, df: pd.DataFrame) -> pd.DataFrame \| dict[str, object] \| None` \| df: pd.DataFrame, return: pd.DataFrame \| dict[str, object] \| None \| — \| — \| `src\bioetl\pipelines\chembl\activity\run.py:3304-3382` \| `be4bea6703` |
| `ChemblActivityPipeline.write` \| `write(self, df: pd.DataFrame, output_path: Path, *, extended: bool = False, include_correlation: bool \| None = None, include_qc_metrics: bool \| None = None) -> RunResult` \| df: pd.DataFrame, output_path: Path, extended: bool, include_correlation: bool \| None, include_qc_metrics: bool \| None, return: RunResult \| logging: log.debug; network: UnifiedLogger.get \| — \| `src\bioetl\pipelines\chembl\activity\run.py:3384-3476` \| `34f8090e94` |

## `chembl/assay` :: `normalize.py`

| Имя \| Сигнатура \| Аннотации \| Побочные эффекты \| Исключения \| Локация \| AST |
| --- \| --- \| --- \| --- \| --- \| --- \| --- |
| `_should_nullify_string_value` \| `_should_nullify_string_value(value: Any) -> bool` \| value: Any, return: bool \| — \| — \| `src\bioetl\pipelines\chembl\assay\normalize.py:36-44` \| `5d9d3fe5f5` |
| `enrich_with_assay_classifications` \| `enrich_with_assay_classifications(df_assay: pd.DataFrame, client: ChemblClient, cfg: Mapping[str, Any]) -> pd.DataFrame` \| df_assay: pd.DataFrame, client: ChemblClient, cfg: Mapping[str, Any], return: pd.DataFrame \| logging: log.debug, log.info, log.warning; network: UnifiedLogger.get, cfg.get, class_map_dict.get, classification_data.get, classification_dict.get, client.fetch_assay_class_map_by_assay_ids, client.fetch_assay_classifications_by_class_ids, mapping.get, row.get \| — \| `src\bioetl\pipelines\chembl\assay\normalize.py:47-219` \| `f4342ba22d` |
| `enrich_with_assay_parameters` \| `enrich_with_assay_parameters(df_assay: pd.DataFrame, client: ChemblClient, cfg: Mapping[str, Any]) -> pd.DataFrame` \| df_assay: pd.DataFrame, client: ChemblClient, cfg: Mapping[str, Any], return: pd.DataFrame \| logging: log.debug, log.info, log.warning; network: UnifiedLogger.get, cfg.get, client.fetch_assay_parameters_by_assay_ids, param.get, parameters_dict.get, row.get \| — \| `src\bioetl\pipelines\chembl\assay\normalize.py:222-378` \| `eb73450f15` |

## `chembl/assay` :: `run.py`

| Имя \| Сигнатура \| Аннотации \| Побочные эффекты \| Исключения \| Локация \| AST |
| --- \| --- \| --- \| --- \| --- \| --- \| --- |
| `_normalize_bao_identifier` \| `_normalize_bao_identifier(raw_value: Any) -> str \| None` \| raw_value: Any, return: str \| None \| — \| — \| `src\bioetl\pipelines\chembl\assay\run.py:55-77` \| `54e5a24a5f` |
| `_iter_classification_mappings` \| `_iter_classification_mappings(node: Any) -> Iterator[Mapping[str, Any]]` \| node: Any, return: Iterator[Mapping[str, Any]] \| — \| — \| `src\bioetl\pipelines\chembl\assay\run.py:80-94` \| `798dcafad3` |
| `_extract_bao_ids_from_classifications` \| `_extract_bao_ids_from_classifications(node: Any) -> list[str]` \| node: Any, return: list[str] \| network: mapping.get \| — \| `src\bioetl\pipelines\chembl\assay\run.py:97-114` \| `d66322d9b8` |
| `ChemblAssayPipeline.__init__` \| `__init__(self, config: PipelineConfig, run_id: str) -> None` \| config: PipelineConfig, run_id: str, return: None \| — \| — \| `src\bioetl\pipelines\chembl\assay\run.py:131-133` \| `cdaa98868b` |
| `ChemblAssayPipeline.chembl_release` \| `chembl_release(self) -> str \| None` \| return: str \| None \| — \| — \| `src\bioetl\pipelines\chembl\assay\run.py:136-139` \| `ae180d5058` |
| `ChemblAssayPipeline.extract` \| `extract(self, *args: object, **kwargs: object) -> pd.DataFrame` \| *args: object, **kwargs: object, return: pd.DataFrame \| network: UnifiedLogger.get \| — \| `src\bioetl\pipelines\chembl\assay\run.py:145-159` \| `f2f0a0c7bc` |
| `ChemblAssayPipeline.extract_all` \| `extract_all(self) -> pd.DataFrame` \| return: pd.DataFrame \| — \| — \| `src\bioetl\pipelines\chembl\assay\run.py:161-165` \| `99636c7adf` |
| `ChemblAssayPipeline._build_assay_descriptor` \| `_build_assay_descriptor(self: SelfChemblAssayPipeline) -> ChemblExtractionDescriptor[SelfChemblAssayPipeline]` \| self: SelfChemblAssayPipeline, return: ChemblExtractionDescriptor[SelfChemblAssayPipeline] \| — \| — \| `src\bioetl\pipelines\chembl\assay\run.py:167-323` \| `0867a3973e` |
| `ChemblAssayPipeline.extract_by_ids` \| `extract_by_ids(self, ids: Sequence[str]) -> pd.DataFrame` \| ids: Sequence[str], return: pd.DataFrame \| logging: log.debug, log.info; network: UnifiedLogger.get, assay_client.handshake \| — \| `src\bioetl\pipelines\chembl\assay\run.py:325-469` \| `09b374adbb` |
| `ChemblAssayPipeline.transform` \| `transform(self, df: pd.DataFrame) -> pd.DataFrame` \| df: pd.DataFrame, return: pd.DataFrame \| logging: log.debug, log.info; network: UnifiedLogger.get \| — \| `src\bioetl\pipelines\chembl\assay\run.py:471-498` \| `283278f8bb` |
| `ChemblAssayPipeline._serialize_array_fields` \| `_serialize_array_fields(self, df: pd.DataFrame, log: Any) -> pd.DataFrame` \| df: pd.DataFrame, log: Any, return: pd.DataFrame \| logging: log.debug \| — \| `src\bioetl\pipelines\chembl\assay\run.py:504-524` \| `d002869dc2` |
| `ChemblAssayPipeline._harmonize_identifier_columns` \| `_harmonize_identifier_columns(self, df: pd.DataFrame, log: Any) -> pd.DataFrame` \| df: pd.DataFrame, log: Any, return: pd.DataFrame \| logging: log.debug \| — \| `src\bioetl\pipelines\chembl\assay\run.py:526-548` \| `3a4f6682ac` |
| `ChemblAssayPipeline._normalize_identifiers` \| `_normalize_identifiers(self, df: pd.DataFrame, log: Any) -> pd.DataFrame` \| df: pd.DataFrame, log: Any, return: pd.DataFrame \| logging: log.debug \| — \| `src\bioetl\pipelines\chembl\assay\run.py:550-577` \| `d46af41027` |
| `ChemblAssayPipeline._normalize_string_fields` \| `_normalize_string_fields(self, df: pd.DataFrame, log: Any) -> pd.DataFrame` \| df: pd.DataFrame, log: Any, return: pd.DataFrame \| logging: log.debug, log.warning \| — \| `src\bioetl\pipelines\chembl\assay\run.py:579-621` \| `46239138d0` |
| `ChemblAssayPipeline._normalize_nested_structures` \| `_normalize_nested_structures(self, df: pd.DataFrame, log: Any) -> pd.DataFrame` \| df: pd.DataFrame, log: Any, return: pd.DataFrame \| logging: log.debug \| — \| `src\bioetl\pipelines\chembl\assay\run.py:623-679` \| `f37562353c` |
| `ChemblAssayPipeline._add_row_metadata` \| `_add_row_metadata(self, df: pd.DataFrame, log: Any) -> pd.DataFrame` \| df: pd.DataFrame, log: Any, return: pd.DataFrame \| logging: log.debug \| — \| `src\bioetl\pipelines\chembl\assay\run.py:681-704` \| `f96593bf4f` |
| `ChemblAssayPipeline._normalize_data_types` \| `_normalize_data_types(self, df: pd.DataFrame, schema: Any, log: Any) -> pd.DataFrame` \| df: pd.DataFrame, schema: Any, log: Any, return: pd.DataFrame \| logging: log.debug \| — \| `src\bioetl\pipelines\chembl\assay\run.py:706-718` \| `fadf726025` |
| `ChemblAssayPipeline._check_missing_columns` \| `_check_missing_columns(self, df: pd.DataFrame, log: Any, select_fields: list[str] \| None = None) -> pd.DataFrame` \| df: pd.DataFrame, log: Any, select_fields: list[str] \| None, return: pd.DataFrame \| logging: log.debug, log.warning \| — \| `src\bioetl\pipelines\chembl\assay\run.py:720-835` \| `cd9b276c75` |
| `ChemblAssayPipeline._enrich_with_related_data` \| `_enrich_with_related_data(self, df: pd.DataFrame, log: Any) -> pd.DataFrame` \| df: pd.DataFrame, log: Any, return: pd.DataFrame \| logging: log.debug, log.info, log.warning; network: cast(Mapping[str, Any], assay_config).get, cast(Mapping[str, Any], chembl_config).get, cast(Mapping[str, Any], enrich_config).get \| — \| `src\bioetl\pipelines\chembl\assay\run.py:837-952` \| `65cdc6c52f` |

## `chembl/assay` :: `transform.py`

| Имя \| Сигнатура \| Аннотации \| Побочные эффекты \| Исключения \| Локация \| AST |
| --- \| --- \| --- \| --- \| --- \| --- \| --- |
| `_is_null_like` \| `_is_null_like(value: Any) -> bool` \| value: Any, return: bool \| — \| — \| `src\bioetl\pipelines\chembl\assay\transform.py:22-39` \| `bc383016cd` |
| `validate_assay_parameters_truv` \| `validate_assay_parameters_truv(df: pd.DataFrame, column: str = 'assay_parameters', fail_fast: bool = True) -> pd.DataFrame` \| df: pd.DataFrame, column: str, fail_fast: bool, return: pd.DataFrame \| logging: log.debug, log.error, log.warning; network: UnifiedLogger.get, param_dict.get, row.get \| ValueError(error_msg) \| `src\bioetl\pipelines\chembl\assay\transform.py:42-232` \| `4754b6e8c3` |

## `chembl/document` :: `normalize.py`

| Имя \| Сигнатура \| Аннотации \| Побочные эффекты \| Исключения \| Локация \| AST |
| --- \| --- \| --- \| --- \| --- \| --- \| --- |
| `_escape_pipe` \| `_escape_pipe(value: str \| Any) -> str` \| value: str \| Any, return: str \| — \| — \| `src\bioetl\pipelines\chembl\document\normalize.py:22-43` \| `5dde4b16e6` |
| `aggregate_terms` \| `aggregate_terms(rows: Iterable[dict[str, Any]], sort: str = 'weight_desc') -> dict[str, dict[str, str]]` \| rows: Iterable[dict[str, Any]], sort: str, return: dict[str, dict[str, str]] \| network: r.get \| — \| `src\bioetl\pipelines\chembl\document\normalize.py:52-119` \| `48936a6db4` |
| `_is_numeric` \| `_is_numeric(value: Any) -> bool` \| value: Any, return: bool \| — \| — \| `src\bioetl\pipelines\chembl\document\normalize.py:122-128` \| `0062d463c4` |
| `enrich_with_document_terms` \| `enrich_with_document_terms(df_docs: pd.DataFrame, client: ChemblClient, cfg: Mapping[str, Any]) -> pd.DataFrame` \| df_docs: pd.DataFrame, client: ChemblClient, cfg: Mapping[str, Any], return: pd.DataFrame \| logging: log.debug, log.info, log.warning; network: UnifiedLogger.get, cfg.get, client.fetch_document_terms_by_ids, row.get \| — \| `src\bioetl\pipelines\chembl\document\normalize.py:131-294` \| `ba047026a3` |

## `chembl/document` :: `run.py`

| Имя \| Сигнатура \| Аннотации \| Побочные эффекты \| Исключения \| Локация \| AST |
| --- \| --- \| --- \| --- \| --- \| --- \| --- |
| `ChemblDocumentPipeline.__init__` \| `__init__(self, config: PipelineConfig, run_id: str) -> None` \| config: PipelineConfig, run_id: str, return: None \| — \| — \| `src\bioetl\pipelines\chembl\document\run.py:65-67` \| `f148169690` |
| `ChemblDocumentPipeline.extract` \| `extract(self, *args: object, **kwargs: object) -> pd.DataFrame` \| *args: object, **kwargs: object, return: pd.DataFrame \| network: UnifiedLogger.get \| — \| `src\bioetl\pipelines\chembl\document\run.py:69-83` \| `2d1eb60e0d` |
| `ChemblDocumentPipeline.extract_all` \| `extract_all(self) -> pd.DataFrame` \| return: pd.DataFrame \| — \| — \| `src\bioetl\pipelines\chembl\document\run.py:85-88` \| `48ddb42690` |
| `ChemblDocumentPipeline._build_document_descriptor` \| `_build_document_descriptor(self: SelfChemblDocumentPipeline) -> ChemblExtractionDescriptor[SelfChemblDocumentPipeline]` \| self: SelfChemblDocumentPipeline, return: ChemblExtractionDescriptor[SelfChemblDocumentPipeline] \| — \| — \| `src\bioetl\pipelines\chembl\document\run.py:90-178` \| `ec78374c92` |
| `ChemblDocumentPipeline.extract_by_ids` \| `extract_by_ids(self, ids: Sequence[str]) -> pd.DataFrame` \| ids: Sequence[str], return: pd.DataFrame \| logging: log.info; network: UnifiedLogger.get \| — \| `src\bioetl\pipelines\chembl\document\run.py:180-280` \| `1dd83cdc65` |
| `ChemblDocumentPipeline.transform` \| `transform(self, df: pd.DataFrame) -> pd.DataFrame` \| df: pd.DataFrame, return: pd.DataFrame \| logging: log.debug, log.info, log.warning; network: UnifiedLogger.get \| — \| `src\bioetl\pipelines\chembl\document\run.py:282-336` \| `1deba795d2` |
| `ChemblDocumentPipeline.validate` \| `validate(self, df: pd.DataFrame) -> pd.DataFrame` \| df: pd.DataFrame, return: pd.DataFrame \| logging: log.debug, log.info; network: UnifiedLogger.get \| — \| `src\bioetl\pipelines\chembl\document\run.py:338-371` \| `e1b39edf17` |
| `ChemblDocumentPipeline._normalize_identifiers` \| `_normalize_identifiers(self, df: pd.DataFrame, log: Any) -> pd.DataFrame` \| df: pd.DataFrame, log: Any, return: pd.DataFrame \| — \| — \| `src\bioetl\pipelines\chembl\document\run.py:377-389` \| `846c504aa3` |
| `ChemblDocumentPipeline._normalize_doi` \| `_normalize_doi(doi: str \| None) -> str` \| doi: str \| None, return: str \| — \| — \| `src\bioetl\pipelines\chembl\document\run.py:392-408` \| `c1fe9514d9` |
| `ChemblDocumentPipeline._normalize_string_fields` \| `_normalize_string_fields(self, df: pd.DataFrame, log: Any) -> pd.DataFrame` \| df: pd.DataFrame, log: Any, return: pd.DataFrame \| logging: log.debug \| — \| `src\bioetl\pipelines\chembl\document\run.py:410-472` \| `8f62b3d723` |
| `ChemblDocumentPipeline._normalize_journal` \| `_normalize_journal(value: Any, max_len: int = 255) -> str` \| value: Any, max_len: int, return: str \| — \| — \| `src\bioetl\pipelines\chembl\document\run.py:475-481` \| `5fffd1b807` |
| `ChemblDocumentPipeline._normalize_authors` \| `_normalize_authors(authors: Any, separator: str = ', ') -> tuple[str, int]` \| authors: Any, separator: str, return: tuple[str, int] \| — \| — \| `src\bioetl\pipelines\chembl\document\run.py:484-495` \| `9e2ef13052` |
| `ChemblDocumentPipeline._normalize_numeric_fields` \| `_normalize_numeric_fields(self, df: pd.DataFrame, log: Any) -> pd.DataFrame` \| df: pd.DataFrame, log: Any, return: pd.DataFrame \| — \| — \| `src\bioetl\pipelines\chembl\document\run.py:497-530` \| `b2fc55640b` |
| `ChemblDocumentPipeline._add_system_fields` \| `_add_system_fields(self, df: pd.DataFrame, log: Any) -> pd.DataFrame` \| df: pd.DataFrame, log: Any, return: pd.DataFrame \| — \| — \| `src\bioetl\pipelines\chembl\document\run.py:532-539` \| `5903b54669` |
| `ChemblDocumentPipeline._schema_column_specs` \| `_schema_column_specs(self) -> Mapping[str, Mapping[str, Any]]` \| return: Mapping[str, Mapping[str, Any]] \| — \| — \| `src\bioetl\pipelines\chembl\document\run.py:541-555` \| `62a7eb6e8e` |
| `ChemblDocumentPipeline._check_document_id_uniqueness` \| `_check_document_id_uniqueness(self, df: pd.DataFrame, log: Any) -> None` \| df: pd.DataFrame, log: Any, return: None \| logging: log.warning \| — \| `src\bioetl\pipelines\chembl\document\run.py:557-572` \| `bb7dd48eb6` |
| `ChemblDocumentPipeline._should_enrich_document_terms` \| `_should_enrich_document_terms(self) -> bool` \| return: bool \| network: chembl_section.get, document_section.get, document_term_section.get, enrich_section.get \| — \| `src\bioetl\pipelines\chembl\document\run.py:574-595` \| `ac712aea6f` |
| `ChemblDocumentPipeline._enrich_document_terms` \| `_enrich_document_terms(self, df: pd.DataFrame) -> pd.DataFrame` \| df: pd.DataFrame, return: pd.DataFrame \| logging: log.warning; network: UnifiedLogger.get, chembl_section.get, document_section.get, enrich_section.get \| — \| `src\bioetl\pipelines\chembl\document\run.py:597-641` \| `81f9dfd559` |
| `ChemblDocumentPipeline._extract_nested_fields` \| `_extract_nested_fields(self, record: dict[str, Any]) -> dict[str, Any]` \| record: dict[str, Any], return: dict[str, Any] \| — \| — \| `src\bioetl\pipelines\chembl\document\run.py:643-647` \| `66501beff7` |
| `ChemblDocumentPipeline._coerce_mapping` \| `_coerce_mapping(payload: Any) -> dict[str, Any]` \| payload: Any, return: dict[str, Any] \| — \| — \| `src\bioetl\pipelines\chembl\document\run.py:650-654` \| `4ca37e70cd` |

## `chembl/target` :: `run.py`

| Имя \| Сигнатура \| Аннотации \| Побочные эффекты \| Исключения \| Локация \| AST |
| --- \| --- \| --- \| --- \| --- \| --- \| --- |
| `ChemblTargetPipeline.__init__` \| `__init__(self, config: PipelineConfig, run_id: str) -> None` \| config: PipelineConfig, run_id: str, return: None \| — \| — \| `src\bioetl\pipelines\chembl\target\run.py:43-44` \| `1303a9df9a` |
| `ChemblTargetPipeline.extract` \| `extract(self, *args: object, **kwargs: object) -> pd.DataFrame` \| *args: object, **kwargs: object, return: pd.DataFrame \| network: UnifiedLogger.get \| — \| `src\bioetl\pipelines\chembl\target\run.py:50-64` \| `f2f0a0c7bc` |
| `ChemblTargetPipeline.extract_all` \| `extract_all(self) -> pd.DataFrame` \| return: pd.DataFrame \| — \| — \| `src\bioetl\pipelines\chembl\target\run.py:66-70` \| `99636c7adf` |
| `ChemblTargetPipeline._build_target_descriptor` \| `_build_target_descriptor(self) -> ChemblExtractionDescriptor['ChemblTargetPipeline']` \| return: ChemblExtractionDescriptor['ChemblTargetPipeline'] \| — \| — \| `src\bioetl\pipelines\chembl\target\run.py:72-141` \| `fe564860b3` |
| `ChemblTargetPipeline.extract_by_ids` \| `extract_by_ids(self, ids: Sequence[str]) -> pd.DataFrame` \| ids: Sequence[str], return: pd.DataFrame \| logging: log.info; network: UnifiedLogger.get \| — \| `src\bioetl\pipelines\chembl\target\run.py:143-222` \| `83bc93401d` |
| `ChemblTargetPipeline.transform` \| `transform(self, df: pd.DataFrame) -> pd.DataFrame` \| df: pd.DataFrame, return: pd.DataFrame \| logging: log.debug, log.info; network: UnifiedLogger.get \| — \| `src\bioetl\pipelines\chembl\target\run.py:224-266` \| `7e36902038` |
| `ChemblTargetPipeline._harmonize_identifier_columns` \| `_harmonize_identifier_columns(self, df: pd.DataFrame, log: Any) -> pd.DataFrame` \| df: pd.DataFrame, log: Any, return: pd.DataFrame \| logging: log.debug \| — \| `src\bioetl\pipelines\chembl\target\run.py:272-289` \| `993cedec9d` |
| `ChemblTargetPipeline._normalize_identifiers` \| `_normalize_identifiers(self, df: pd.DataFrame, log: Any) -> pd.DataFrame` \| df: pd.DataFrame, log: Any, return: pd.DataFrame \| logging: log.warning; network: stats.per_column.get \| — \| `src\bioetl\pipelines\chembl\target\run.py:291-310` \| `a5709cc874` |
| `ChemblTargetPipeline._enrich_target_components` \| `_enrich_target_components(self, df: pd.DataFrame, log: Any) -> pd.DataFrame` \| df: pd.DataFrame, log: Any, return: pd.DataFrame \| logging: log.debug, log.info, log.warning; network: chembl_client.paginate, component_map.get, item.get \| — \| `src\bioetl\pipelines\chembl\target\run.py:312-416` \| `db3557aae1` |
| `ChemblTargetPipeline._enrich_protein_classifications` \| `_enrich_protein_classifications(self, df: pd.DataFrame, log: Any) -> pd.DataFrame` \| df: pd.DataFrame, log: Any, return: pd.DataFrame \| logging: log.debug, log.info, log.warning; network: chembl_client.paginate, class_item.get, class_obj.get, classification_list_map.get, classification_top_map.get, item.get, node_item.get, node_metadata.get, path_item.get, seq_item.get, x.get \| — \| `src\bioetl\pipelines\chembl\target\run.py:418-708` \| `67b0ee1e77` |
| `ChemblTargetPipeline._normalize_string_fields` \| `_normalize_string_fields(self, df: pd.DataFrame, log: Any) -> pd.DataFrame` \| df: pd.DataFrame, log: Any, return: pd.DataFrame \| logging: log.debug \| — \| `src\bioetl\pipelines\chembl\target\run.py:710-730` \| `d5f071f8b5` |
| `ChemblTargetPipeline._normalize_data_types` \| `_normalize_data_types(self, df: pd.DataFrame, schema: Any \| None, log: Any) -> pd.DataFrame` \| df: pd.DataFrame, schema: Any \| None, log: Any, return: pd.DataFrame \| logging: log.warning \| — \| `src\bioetl\pipelines\chembl\target\run.py:732-783` \| `3273aea68e` |

## `chembl/target` :: `transform.py`

| Имя \| Сигнатура \| Аннотации \| Побочные эффекты \| Исключения \| Локация \| AST |
| --- \| --- \| --- \| --- \| --- \| --- \| --- |
| `_is_json_dict` \| `_is_json_dict(value: Any) -> TypeGuard[JsonDict]` \| value: Any, return: TypeGuard[JsonDict] \| — \| — \| `src\bioetl\pipelines\chembl\target\transform.py:25-26` \| `4504e3e299` |
| `_is_iterable_of_objects` \| `_is_iterable_of_objects(value: Any) -> TypeGuard[Iterable[Any]]` \| value: Any, return: TypeGuard[Iterable[Any]] \| — \| — \| `src\bioetl\pipelines\chembl\target\transform.py:29-30` \| `d70cabf6c6` |
| `_collect_dicts` \| `_collect_dicts(source: Any) -> list[JsonDict]` \| source: Any, return: list[JsonDict] \| — \| — \| `src\bioetl\pipelines\chembl\target\transform.py:33-47` \| `fc0c1ebfe0` |
| `flatten_target_components` \| `flatten_target_components(rec: dict[str, Any]) -> dict[str, Any]` \| rec: dict[str, Any], return: dict[str, Any] \| network: component.get, rec.get \| — \| `src\bioetl\pipelines\chembl\target\transform.py:50-130` \| `37bdde0f80` |
| `extract_and_serialize_component_synonyms` \| `extract_and_serialize_component_synonyms(target_components: Any) -> str` \| target_components: Any, return: str \| network: component.get \| — \| `src\bioetl\pipelines\chembl\target\transform.py:133-162` \| `2d8d35a569` |
| `serialize_target_arrays` \| `serialize_target_arrays(df: pd.DataFrame, config: Any) -> pd.DataFrame` \| df: pd.DataFrame, config: Any, return: pd.DataFrame \| — \| — \| `src\bioetl\pipelines\chembl\target\transform.py:165-251` \| `8634694d7a` |

## `chembl/testitem` :: `run.py`

| Имя \| Сигнатура \| Аннотации \| Побочные эффекты \| Исключения \| Локация \| AST |
| --- \| --- \| --- \| --- \| --- \| --- \| --- |
| `TestItemChemblPipeline.__init__` \| `__init__(self, config: PipelineConfig, run_id: str) -> None` \| config: PipelineConfig, run_id: str, return: None \| — \| — \| `src\bioetl\pipelines\chembl\testitem\run.py:57-60` \| `8c62d86bc5` |
| `TestItemChemblPipeline.chembl_db_version` \| `chembl_db_version(self) -> str \| None` \| return: str \| None \| — \| — \| `src\bioetl\pipelines\chembl\testitem\run.py:63-65` \| `ae180d5058` |
| `TestItemChemblPipeline.api_version` \| `api_version(self) -> str \| None` \| return: str \| None \| — \| — \| `src\bioetl\pipelines\chembl\testitem\run.py:68-70` \| `ae180d5058` |
| `TestItemChemblPipeline._fetch_chembl_release` \| `_fetch_chembl_release(self, client: UnifiedAPIClient \| ChemblClient \| Any, log: BoundLogger \| None = None) -> str \| None` \| client: UnifiedAPIClient \| ChemblClient \| Any, log: BoundLogger \| None, return: str \| None \| logging: bound_log.info, bound_log.warning; network: UnifiedLogger.get, status_payload.get \| — \| `src\bioetl\pipelines\chembl\testitem\run.py:72-123` \| `d697d7d8c0` |
| `TestItemChemblPipeline.extract` \| `extract(self, *args: object, **kwargs: object) -> pd.DataFrame` \| *args: object, **kwargs: object, return: pd.DataFrame \| network: UnifiedLogger.get \| — \| `src\bioetl\pipelines\chembl\testitem\run.py:129-143` \| `f2f0a0c7bc` |
| `TestItemChemblPipeline.extract_all` \| `extract_all(self) -> pd.DataFrame` \| return: pd.DataFrame \| — \| — \| `src\bioetl\pipelines\chembl\testitem\run.py:145-149` \| `99636c7adf` |
| `TestItemChemblPipeline._build_testitem_descriptor` \| `_build_testitem_descriptor(self: SelfTestitemChemblPipeline) -> ChemblExtractionDescriptor[SelfTestitemChemblPipeline]` \| self: SelfTestitemChemblPipeline, return: ChemblExtractionDescriptor[SelfTestitemChemblPipeline] \| — \| — \| `src\bioetl\pipelines\chembl\testitem\run.py:151-234` \| `474dd5cba6` |
| `TestItemChemblPipeline.extract_by_ids` \| `extract_by_ids(self, ids: Sequence[str]) -> pd.DataFrame` \| ids: Sequence[str], return: pd.DataFrame \| logging: log.debug, log.info; network: UnifiedLogger.get \| — \| `src\bioetl\pipelines\chembl\testitem\run.py:236-324` \| `f06ce3d6ff` |
| `TestItemChemblPipeline.transform` \| `transform(self, df: pd.DataFrame) -> pd.DataFrame` \| df: pd.DataFrame, return: pd.DataFrame \| logging: log.debug, log.info; network: UnifiedLogger.get \| — \| `src\bioetl\pipelines\chembl\testitem\run.py:326-377` \| `6e187e23f7` |
| `TestItemChemblPipeline.augment_metadata` \| `augment_metadata(self, metadata: Mapping[str, object], df: pd.DataFrame) -> Mapping[str, object]` \| metadata: Mapping[str, object], df: pd.DataFrame, return: Mapping[str, object] \| — \| — \| `src\bioetl\pipelines\chembl\testitem\run.py:379-391` \| `9c4265c15a` |
| `TestItemChemblPipeline._flatten_nested_structures` \| `_flatten_nested_structures(self, df: pd.DataFrame, log: Any) -> pd.DataFrame` \| df: pd.DataFrame, log: Any, return: pd.DataFrame \| logging: log.debug \| — \| `src\bioetl\pipelines\chembl\testitem\run.py:397-434` \| `e9c4d51656` |
| `TestItemChemblPipeline._normalize_identifiers` \| `_normalize_identifiers(self, df: pd.DataFrame, log: Any) -> pd.DataFrame` \| df: pd.DataFrame, log: Any, return: pd.DataFrame \| logging: log.debug \| — \| `src\bioetl\pipelines\chembl\testitem\run.py:436-471` \| `e5dbcce22d` |
| `TestItemChemblPipeline._normalize_string_fields` \| `_normalize_string_fields(self, df: pd.DataFrame, log: Any) -> pd.DataFrame` \| df: pd.DataFrame, log: Any, return: pd.DataFrame \| logging: log.debug \| — \| `src\bioetl\pipelines\chembl\testitem\run.py:473-499` \| `d0897838fa` |
| `TestItemChemblPipeline._schema_column_specs` \| `_schema_column_specs(self) -> Mapping[str, Mapping[str, Any]]` \| return: Mapping[str, Mapping[str, Any]] \| — \| — \| `src\bioetl\pipelines\chembl\testitem\run.py:501-550` \| `2c3e49ccbd` |
| `TestItemChemblPipeline._normalize_numeric_fields` \| `_normalize_numeric_fields(self, df: pd.DataFrame, log: Any) -> pd.DataFrame` \| df: pd.DataFrame, log: Any, return: pd.DataFrame \| logging: log.debug \| — \| `src\bioetl\pipelines\chembl\testitem\run.py:552-662` \| `056e8822ad` |
| `TestItemChemblPipeline._check_empty_columns` \| `_check_empty_columns(self, df: pd.DataFrame, log: Any) -> None` \| df: pd.DataFrame, log: Any, return: None \| logging: log.warning \| — \| `src\bioetl\pipelines\chembl\testitem\run.py:664-724` \| `929e33a4c8` |
| `TestItemChemblPipeline._remove_extra_columns` \| `_remove_extra_columns(self, df: pd.DataFrame, log: Any) -> pd.DataFrame` \| df: pd.DataFrame, log: Any, return: pd.DataFrame \| logging: log.debug \| — \| `src\bioetl\pipelines\chembl\testitem\run.py:726-746` \| `aeb40ecae2` |
| `TestItemChemblPipeline._deduplicate_molecules` \| `_deduplicate_molecules(self, df: pd.DataFrame, log: Any) -> pd.DataFrame` \| df: pd.DataFrame, log: Any, return: pd.DataFrame \| logging: log.info \| — \| `src\bioetl\pipelines\chembl\testitem\run.py:748-807` \| `c69d1b4095` |

## `chembl/testitem` :: `transform.py`

| Имя \| Сигнатура \| Аннотации \| Побочные эффекты \| Исключения \| Локация \| AST |
| --- \| --- \| --- \| --- \| --- \| --- \| --- |
| `flatten_object_col` \| `flatten_object_col(df: pd.DataFrame, col: str, fields: Sequence[str], prefix: str) -> pd.DataFrame` \| df: pd.DataFrame, col: str, fields: Sequence[str], prefix: str, return: pd.DataFrame \| — \| — \| `src\bioetl\pipelines\chembl\testitem\transform.py:20-75` \| `c8b1f7e529` |
| `transform` \| `transform(df: pd.DataFrame, cfg: Any) -> pd.DataFrame` \| df: pd.DataFrame, cfg: Any, return: pd.DataFrame \| — \| — \| `src\bioetl\pipelines\chembl\testitem\transform.py:78-138` \| `aa9da7274c` |

## `chembl_descriptor` :: `chembl_descriptor.py`

| Имя \| Сигнатура \| Аннотации \| Побочные эффекты \| Исключения \| Локация \| AST |
| --- \| --- \| --- \| --- \| --- \| --- \| --- |
| `BatchExtractionStats.as_dict` \| `as_dict(self) -> dict[str, Any]` \| return: dict[str, Any] \| — \| — \| `src\bioetl\pipelines\chembl_descriptor.py:90-106` \| `57a1989274` |
| `BatchExtractionStats.for_logging` \| `for_logging(self) -> dict[str, Any]` \| return: dict[str, Any] \| — \| — \| `src\bioetl\pipelines\chembl_descriptor.py:108-111` \| `4013779809` |
| `BatchExtractionStats.set_extra` \| `set_extra(self, **kwargs: Any) -> None` \| **kwargs: Any, return: None \| — \| — \| `src\bioetl\pipelines\chembl_descriptor.py:113-117` \| `85f9c9ddfc` |
| `BatchExtractionContext.increment_batches` \| `increment_batches(self) -> None` \| return: None \| — \| — \| `src\bioetl\pipelines\chembl_descriptor.py:135-138` \| `79da3b5ad9` |
| `BatchExtractionContext.increment_api_calls` \| `increment_api_calls(self, *, count: int = 1) -> None` \| count: int, return: None \| — \| — \| `src\bioetl\pipelines\chembl_descriptor.py:140-145` \| `482a3a85a3` |
| `BatchExtractionContext.set_cache_hits` \| `set_cache_hits(self, value: int \| None) -> None` \| value: int \| None, return: None \| — \| — \| `src\bioetl\pipelines\chembl_descriptor.py:147-150` \| `6405482157` |
| `BatchExtractionContext.set_extra` \| `set_extra(self, **kwargs: Any) -> None` \|**kwargs: Any, return: None \| — \| — \| `src\bioetl\pipelines\chembl_descriptor.py:152-156` \| `ba8038cfb3` |
| `ChemblPipelineBase.__init__` \| `__init__(self, config: Any, run_id: str) -> None` \| config: Any, run_id: str, return: None \| — \| — \| `src\bioetl\pipelines\chembl_descriptor.py:170-182` \| `496c9fe4b6` |
| `ChemblPipelineBase.chembl_release` \| `chembl_release(self) -> str \| None` \| return: str \| None \| — \| — \| `src\bioetl\pipelines\chembl_descriptor.py:185-187` \| `ae180d5058` |
| `ChemblPipelineBase._resolve_source_config` \| `_resolve_source_config(self, name: str) -> SourceConfig` \| name: str, return: SourceConfig \| — \| KeyError(msg) \| `src\bioetl\pipelines\chembl_descriptor.py:193-215` \| `5ba077ab3d` |
| `ChemblPipelineBase._stringify_mapping` \| `_stringify_mapping(mapping: Mapping[object, Any]) -> dict[str, Any]` \| mapping: Mapping[object, Any], return: dict[str, Any] \| — \| — \| `src\bioetl\pipelines\chembl_descriptor.py:218-221` \| `5abef30312` |
| `ChemblPipelineBase._normalize_parameters` \| `_normalize_parameters(parameters: Any) -> dict[str, Any]` \| parameters: Any, return: dict[str, Any] \| — \| — \| `src\bioetl\pipelines\chembl_descriptor.py:224-263` \| `ad0ef2e27c` |
| `ChemblPipelineBase._resolve_base_url` \| `_resolve_base_url(parameters: Any) -> str` \| parameters: Any, return: str \| network: params.get \| ValueError(msg) \| `src\bioetl\pipelines\chembl_descriptor.py:266-289` \| `88113a6232` |
| `ChemblPipelineBase._resolve_page_size` \| `_resolve_page_size(batch_size: int, limit: int \| None, *, hard_cap: int = 25) -> int` \| batch_size: int, limit: int \| None, hard_cap: int, return: int \| — \| — \| `src\bioetl\pipelines\chembl_descriptor.py:292-298` \| `4516b9d107` |
| `ChemblPipelineBase._resolve_batch_size` \| `_resolve_batch_size(source_config: SourceConfig) -> int` \| source_config: SourceConfig, return: int \| network: parameters_mapping.get \| — \| `src\bioetl\pipelines\chembl_descriptor.py:301-324` \| `656fb53f8d` |
| `ChemblPipelineBase._resolve_select_fields` \| `_resolve_select_fields(self, source_config: SourceConfig, default_fields: Sequence[str] \| None = None) -> list[str]` \| source_config: SourceConfig, default_fields: Sequence[str] \| None, return: list[str] \| network: parameters.get \| — \| `src\bioetl\pipelines\chembl_descriptor.py:326-358` \| `7adb30e97c` |
| `ChemblPipelineBase._merge_select_fields` \| `_merge_select_fields(select_fields: Sequence[str] \| None, required_fields: Sequence[str] \| None = None) -> list[str] \| None` \| select_fields: Sequence[str] \| None, required_fields: Sequence[str] \| None, return: list[str] \| None \| — \| — \| `src\bioetl\pipelines\chembl_descriptor.py:361-383` \| `986a3c9e8b` |
| `ChemblPipelineBase._dispatch_extract_mode` \| `_dispatch_extract_mode(self, log: BoundLogger, *, event_name: str, batch_callback: Callable[[Sequence[str]], pd.DataFrame], full_callback: Callable[[], pd.DataFrame], id_column_name: str \| None = None, legacy_id_resolver: Callable[[BoundLogger], Sequence[str] \| None] \| None = None, legacy_source: str = 'legacy') -> pd.DataFrame` \| log: BoundLogger, event_name: str, batch_callback: Callable[[Sequence[str]], pd.DataFrame], full_callback: Callable[[], pd.DataFrame], id_column_name: str \| None, legacy_id_resolver: Callable[[BoundLogger], Sequence[str] \| None] \| None, legacy_source: str, return: pd.DataFrame \| logging: log.info \| — \| `src\bioetl\pipelines\chembl_descriptor.py:385-462` \| `d9988c801d` |
| `ChemblPipelineBase.run_extract_all` \| `run_extract_all(self: PipelineT, descriptor: ChemblExtractionDescriptor[PipelineT]) -> pd.DataFrame` \| self: PipelineT, descriptor: ChemblExtractionDescriptor[PipelineT], return: pd.DataFrame \| logging: log.info; network: UnifiedLogger.get \| — \| `src\bioetl\pipelines\chembl_descriptor.py:464-606` \| `2d2a3af743` |
| `ChemblPipelineBase.prepare_chembl_client` \| `prepare_chembl_client(self, source_name: str = 'chembl', *, base_url: str \| None = None, client_name: str \| None = None) -> tuple[UnifiedAPIClient, str]` \| source_name: str, base_url: str \| None, client_name: str \| None, return: tuple[UnifiedAPIClient, str] \| — \| — \| `src\bioetl\pipelines\chembl_descriptor.py:612-641` \| `3399e86aea` |
| `ChemblPipelineBase.fetch_chembl_release` \| `fetch_chembl_release(self, client: UnifiedAPIClient \| Any, log: BoundLogger \| None = None) -> str \| None` \| client: UnifiedAPIClient \| Any, log: BoundLogger \| None, return: str \| None \| logging: log.info, log.warning; network: UnifiedLogger.get, status_mapping.get \| — \| `src\bioetl\pipelines\chembl_descriptor.py:647-718` \| `eb05369d1a` |
| `ChemblPipelineBase._fetch_chembl_release` \| `_fetch_chembl_release(self, client: UnifiedAPIClient \| Any, log: BoundLogger \| None = None) -> str \| None` \| client: UnifiedAPIClient \| Any, log: BoundLogger \| None, return: str \| None \| — \| — \| `src\bioetl\pipelines\chembl_descriptor.py:720-727` \| `9ae64c812d` |
| `ChemblPipelineBase._extract_chembl_release` \| `_extract_chembl_release(payload: Mapping[str, Any]) -> str \| None` \| payload: Mapping[str, Any], return: str \| None \| network: payload.get \| — \| `src\bioetl\pipelines\chembl_descriptor.py:730-747` \| `662a508f49` |
| `ChemblPipelineBase._coerce_mapping` \| `_coerce_mapping(payload: Any) -> dict[str, Any]` \| payload: Any, return: dict[str, Any] \| — \| — \| `src\bioetl\pipelines\chembl_descriptor.py:754-770` \| `8b1fd587d8` |
| `ChemblPipelineBase._extract_page_items` \| `_extract_page_items(payload: Mapping[str, Any], items_keys: Sequence[str] \| None = None) -> list[dict[str, Any]]` \| payload: Mapping[str, Any], items_keys: Sequence[str] \| None, return: list[dict[str, Any]] \| network: payload.get \| — \| `src\bioetl\pipelines\chembl_descriptor.py:773-820` \| `181a35e79a` |
| `ChemblPipelineBase._next_link` \| `_next_link(payload: Mapping[str, Any], base_url: str) -> str \| None` \| payload: Mapping[str, Any], base_url: str, return: str \| None \| network: page_meta_mapping.get, payload.get \| — \| `src\bioetl\pipelines\chembl_descriptor.py:823-873` \| `eff82d7343` |
| `ChemblPipelineBase.run_batched_extraction` \| `run_batched_extraction(self, ids: Sequence[Any], *, id_column: str, fetcher: Callable[[Sequence[str], BatchExtractionContext], Any], select_fields: Sequence[str] \| None = None, required_fields: Sequence[str] \| None = None, limit: int \| None = None, batch_size: int \| None = None, chunk_size: int \| None = None, max_batch_size: int \| None = 25, metadata_filters: Mapping[str, Any] \| None = None, chembl_release: str \| None = None, id_normalizer: Callable[[Any], tuple[str \| None, Any]] \| None = None, sort_key: Callable[[tuple[str, Any]], Any] \| None = None, transform_item: Callable[[Mapping[str, Any], BatchExtractionContext], Mapping[str, Any]] \| None = None, finalize: Callable[[pd.DataFrame, BatchExtractionContext], pd.DataFrame] \| None = None, finalize_context: Callable[[BatchExtractionContext], None] \| None = None, empty_frame_factory: Callable[[], pd.DataFrame] \| None = None, stats_attribute: str \| None = None, fetch_mode: Literal['default', 'delegated'] = 'default') -> tuple[pd.DataFrame, BatchExtractionStats]` \| ids: Sequence[Any], id_column: str, fetcher: Callable[[Sequence[str], BatchExtractionContext], Any], select_fields: Sequence[str] \| None, required_fields: Sequence[str] \| None, limit: int \| None, batch_size: int \| None, chunk_size: int \| None, max_batch_size: int \| None, metadata_filters: Mapping[str, Any] \| None, chembl_release: str \| None, id_normalizer: Callable[[Any], tuple[str \| None, Any]] \| None, sort_key: Callable[[tuple[str, Any]], Any] \| None, transform_item: Callable[[Mapping[str, Any], BatchExtractionContext], Mapping[str, Any]] \| None, finalize: Callable[[pd.DataFrame, BatchExtractionContext], pd.DataFrame] \| None, finalize_context: Callable[[BatchExtractionContext], None] \| None, empty_frame_factory: Callable[[], pd.DataFrame] \| None, stats_attribute: str \| None, fetch_mode: Literal['default', 'delegated'], return: tuple[pd.DataFrame, BatchExtractionStats] \| network: UnifiedLogger.get, context.extra.get, delegated_summary.get, id_metadata_map.get \| — \| `src\bioetl\pipelines\chembl_descriptor.py:879-1114` \| `37fa84d057` |
| `ChemblPipelineBase.extract_ids_paginated` \| `extract_ids_paginated(self, ids: Sequence[str], endpoint: str, id_column: str, id_param_name: str, client: UnifiedAPIClient, *, batch_size: int \| None = None, limit: int \| None = None, select_fields: Sequence[str] \| None = None, items_keys: Sequence[str] \| None = None, process_item: Any \| None = None) -> pd.DataFrame` \| ids: Sequence[str], endpoint: str, id_column: str, id_param_name: str, client: UnifiedAPIClient, batch_size: int \| None, limit: int \| None, select_fields: Sequence[str] \| None, items_keys: Sequence[str] \| None, process_item: Any \| None, return: pd.DataFrame \| logging: log.debug, log.info, log.warning; network: UnifiedLogger.get, client.get \| — \| `src\bioetl\pipelines\chembl_descriptor.py:1116-1235` \| `c2ce839f4e` |
