# –û—Ç—á–µ—Ç –æ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–∏ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–π target enrichment

## ‚úÖ –í—ã–ø–æ–ª–Ω–µ–Ω–Ω—ã–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è

### 1. –ò—Å–ø—Ä–∞–≤–ª–µ–Ω —Ç–∏–ø –¥–∞–Ω–Ω—ã—Ö `mapping_uniprot_id` –≤ chembl_adapter.py

**–§–∞–π–ª**: `src/library/target/chembl_adapter.py`

**–ò–∑–º–µ–Ω–µ–Ω–∏—è**:
- –°—Ç—Ä–æ–∫–∏ 331-334: –£–ª—É—á—à–µ–Ω–∞ –ª–æ–≥–∏–∫–∞ —É—Å—Ç–∞–Ω–æ–≤–∫–∏ `mapping_uniprot_id` —Å —è–≤–Ω—ã–º –ø—Ä–∏–≤–µ–¥–µ–Ω–∏–µ–º –∫ —Å—Ç—Ä–æ–∫–µ
- –°—Ç—Ä–æ–∫–∏ 107-111: –î–æ–±–∞–≤–ª–µ–Ω–æ –ø—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–æ–µ –ø—Ä–∏–≤–µ–¥–µ–Ω–∏–µ –∫ —Å—Ç—Ä–æ–∫–æ–≤–æ–º—É —Ç–∏–ø—É –≤ DataFrame
- –°—Ç—Ä–æ–∫–∞ 348: –î–æ–±–∞–≤–ª–µ–Ω –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π –¥–ª—è —è–≤–Ω–æ–≥–æ —É–∫–∞–∑–∞–Ω–∏—è –ø—É—Å—Ç–æ–π —Å—Ç—Ä–æ–∫–∏

**–†–µ–∑—É–ª—å—Ç–∞—Ç**: `mapping_uniprot_id` —Ç–µ–ø–µ—Ä—å –≤—Å–µ–≥–¥–∞ –∏–º–µ–µ—Ç —Å—Ç—Ä–æ–∫–æ–≤—ã–π —Ç–∏–ø, –∑–Ω–∞—á–µ–Ω–∏—è "0" –∑–∞–º–µ–Ω—è—é—Ç—Å—è –Ω–∞ –ø—É—Å—Ç—ã–µ —Å—Ç—Ä–æ–∫–∏.

### 2. –î–æ–±–∞–≤–ª–µ–Ω fallback –º–µ—Ö–∞–Ω–∏–∑–º –≤ uniprot_adapter.py

**–§–∞–π–ª**: `src/library/target/uniprot_adapter.py`

**–ò–∑–º–µ–Ω–µ–Ω–∏—è**:
- –°—Ç—Ä–æ–∫–∏ 550-588: –î–æ–±–∞–≤–ª–µ–Ω–∞ —Ñ—É–Ω–∫—Ü–∏—è `_fetch_uniprot_ids_via_mapping()` –¥–ª—è –º–∞–ø–ø–∏–Ω–≥–∞ ChEMBL‚ÜíUniProt
- –°—Ç—Ä–æ–∫–∏ 626-627: –î–æ–±–∞–≤–ª–µ–Ω–∞ —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è –∑–Ω–∞—á–µ–Ω–∏–π "0" –ø—Ä–∏ –ø–æ–∏—Å–∫–µ UniProt ID
- –°—Ç—Ä–æ–∫–∏ 642-657: –î–æ–±–∞–≤–ª–µ–Ω fallback –º–µ—Ö–∞–Ω–∏–∑–º —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º UniProt ID Mapping API

**–†–µ–∑—É–ª—å—Ç–∞—Ç**: –ï—Å–ª–∏ UniProt ID –Ω–µ –Ω–∞–π–¥–µ–Ω—ã –≤ –¥–∞–Ω–Ω—ã—Ö ChEMBL, —Å–∏—Å—Ç–µ–º–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–æ–ø—ã—Ç–∞–µ—Ç—Å—è –ø–æ–ª—É—á–∏—Ç—å –∏—Ö —á–µ—Ä–µ–∑ UniProt ID Mapping API.

### 3. –í–∫–ª—é—á–µ–Ω—ã IUPHAR –∏ GtoPdb –∏—Å—Ç–æ—á–Ω–∏–∫–∏

**–§–∞–π–ª**: `configs/config_target.yaml`

**–ò–∑–º–µ–Ω–µ–Ω–∏—è**:
- –°—Ç—Ä–æ–∫–∞ 58: `iuphar.enabled: false` ‚Üí `iuphar.enabled: true`
- –°—Ç—Ä–æ–∫–∞ 72: `gtopdb.enabled: false` ‚Üí `gtopdb.enabled: true`

**–†–µ–∑—É–ª—å—Ç–∞—Ç**: –¢–µ–ø–µ—Ä—å –ø–∞–π–ø–ª–∞–π–Ω –±—É–¥–µ—Ç –æ–±–æ–≥–∞—â–∞—Ç—å –¥–∞–Ω–Ω—ã–µ –∏–∑ IUPHAR –∏ GtoPdb –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤.

### 4. –ü—Ä–æ–≤–µ—Ä–µ–Ω—ã IUPHAR —Å–ª–æ–≤–∞—Ä–∏

**–§–∞–π–ª—ã**:
- `configs/dictionary/_target/_IUPHAR/_IUPHAR_family.csv` ‚úÖ (857 —Å—Ç—Ä–æ–∫)
- `configs/dictionary/_target/_IUPHAR/_IUPHAR_target.csv` ‚úÖ (24,175 —Å—Ç—Ä–æ–∫)

**–†–µ–∑—É–ª—å—Ç–∞—Ç**: –°–ª–æ–≤–∞—Ä–∏ —Å—É—â–µ—Å—Ç–≤—É—é—Ç –∏ —Å–æ–¥–µ—Ä–∂–∞—Ç –¥–∞–Ω–Ω—ã–µ –¥–ª—è –æ–±–æ–≥–∞—â–µ–Ω–∏—è.

## üîß –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–µ—Ç–∞–ª–∏ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–π

### –ü—Ä–æ–±–ª–µ–º–∞ —Å —Ç–∏–ø–∞–º–∏ –¥–∞–Ω–Ω—ã—Ö
**–î–æ**: `mapping_uniprot_id` –∏–º–µ–ª —Ç–∏–ø `int64` —Å–æ –∑–Ω–∞—á–µ–Ω–∏–µ–º `0`
**–ü–æ—Å–ª–µ**: `mapping_uniprot_id` –∏–º–µ–µ—Ç —Ç–∏–ø `object` (—Å—Ç—Ä–æ–∫–∞) —Å –ø—É—Å—Ç—ã–º–∏ —Å—Ç—Ä–æ–∫–∞–º–∏ –≤–º–µ—Å—Ç–æ "0"

### Fallback –º–µ—Ö–∞–Ω–∏–∑–º
1. –°–∏—Å—Ç–µ–º–∞ —Å–Ω–∞—á–∞–ª–∞ –∏—â–µ—Ç UniProt ID –≤ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏—Ö –∫–æ–ª–æ–Ω–∫–∞—Ö
2. –ï—Å–ª–∏ –Ω–µ –Ω–∞–π–¥–µ–Ω—ã, –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è ChEMBL‚ÜíUniProt mapping —á–µ—Ä–µ–∑ ID Mapping API
3. –ü–æ–ª—É—á–µ–Ω–Ω—ã–µ ID –¥–æ–±–∞–≤–ª—è—é—Ç—Å—è –≤ –∫–æ–ª–æ–Ω–∫—É `uniprot_id_primary`
4. –û–±–æ–≥–∞—â–µ–Ω–∏–µ –ø—Ä–æ–¥–æ–ª–∂–∞–µ—Ç—Å—è —Å –Ω–∞–π–¥–µ–Ω–Ω—ã–º–∏ ID

### –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –Ω–µ–≤–∞–ª–∏–¥–Ω—ã—Ö ID
- –ò—Å–∫–ª—é—á–∞—é—Ç—Å—è –∑–Ω–∞—á–µ–Ω–∏—è `"0"` (—Å—Ç—Ä–æ–∫–æ–≤–æ–µ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–µ int 0)
- –ò—Å–∫–ª—é—á–∞—é—Ç—Å—è –ø—É—Å—Ç—ã–µ —Å—Ç—Ä–æ–∫–∏
- –û—Å—Ç–∞—é—Ç—Å—è —Ç–æ–ª—å–∫–æ –≤–∞–ª–∏–¥–Ω—ã–µ UniProt ID –¥–ª—è –æ–±–æ–≥–∞—â–µ–Ω–∏—è

## üìä –û–∂–∏–¥–∞–µ–º—ã–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã

–ü–æ—Å–ª–µ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–π:

1. **UniProt –ø–æ–ª—è** –¥–æ–ª–∂–Ω—ã –∑–∞–ø–æ–ª–Ω–∏—Ç—å—Å—è:
   - `uniprot_id_primary`, `recommendedName`, `geneName`
   - `sequence_length`, `molecular_function`, `cellular_component`
   - `taxon_id`, `lineage_*`, `xref_*` –ø–æ–ª—è

2. **IUPHAR –ø–æ–ª—è** –¥–æ–ª–∂–Ω—ã –∑–∞–ø–æ–ª–Ω–∏—Ç—å—Å—è:
   - `iuphar_name`, `iuphar_type`, `iuphar_class`
   - `iuphar_subclass`, `iuphar_chain`, `iuphar_gene_symbol`

3. **GtoPdb –ø–æ–ª—è** –¥–æ–ª–∂–Ω—ã –∑–∞–ø–æ–ª–Ω–∏—Ç—å—Å—è:
   - `gtop_synonyms`, `gtop_function_text_short`
   - `gtop_natural_ligands_n`, `gtop_interactions_n`

4. **–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø—É—Å—Ç—ã—Ö –∫–æ–ª–æ–Ω–æ–∫** –¥–æ–ª–∂–Ω–æ —Å–Ω–∏–∑–∏—Ç—å—Å—è —Å 77 –¥–æ –º–∏–Ω–∏–º—É–º–∞

## üöÄ –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏

1. **–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ**: –ó–∞–ø—É—Å—Ç–∏—Ç—å –ø–∞–π–ø–ª–∞–π–Ω –Ω–∞ –Ω–µ–±–æ–ª—å—à–æ–π –≤—ã–±–æ—Ä–∫–µ (5-10 —Ç–∞—Ä–≥–µ—Ç–æ–≤)
2. **–ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤**: –£–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ –∫–æ–ª–æ–Ω–∫–∏ –∑–∞–ø–æ–ª–Ω—è—é—Ç—Å—è –¥–∞–Ω–Ω—ã–º–∏
3. **–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥**: –û—Ç—Å–ª–µ–∂–∏–≤–∞—Ç—å –ª–æ–≥–∏ –Ω–∞ –ø—Ä–µ–¥–º–µ—Ç –æ—à–∏–±–æ–∫ –º–∞–ø–ø–∏–Ω–≥–∞
4. **–û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è**: –ü—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å rate limiting –¥–ª—è UniProt API

## ‚ö†Ô∏è –ü–æ—Ç–µ–Ω—Ü–∏–∞–ª—å–Ω—ã–µ —Ä–∏—Å–∫–∏

1. **UniProt API rate limits**: –ú–æ–∂–µ—Ç –ø–æ—Ç—Ä–µ–±–æ–≤–∞—Ç—å—Å—è –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ–µ –≤—Ä–µ–º—è –¥–ª—è –º–∞–ø–ø–∏–Ω–≥–∞
2. **–°–µ—Ç–µ–≤—ã–µ –æ—à–∏–±–∫–∏**: Fallback –º–æ–∂–µ—Ç –Ω–µ —Å—Ä–∞–±–æ—Ç–∞—Ç—å –ø—Ä–∏ –ø—Ä–æ–±–ª–µ–º–∞—Ö —Å —Å–µ—Ç—å—é
3. **–ù–µ–ø–æ–ª–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ**: –ù–µ–∫–æ—Ç–æ—Ä—ã–µ —Ç–∞—Ä–≥–µ—Ç—ã –º–æ–≥—É—Ç –Ω–µ –∏–º–µ—Ç—å –º–∞–ø–ø–∏–Ω–≥–∞ –≤ UniProt

## üìù –°—Ç–∞—Ç—É—Å –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è

- ‚úÖ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω —Ç–∏–ø –¥–∞–Ω–Ω—ã—Ö `mapping_uniprot_id`
- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω fallback –º–µ—Ö–∞–Ω–∏–∑–º UniProt mapping
- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω–∞ —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è –Ω–µ–≤–∞–ª–∏–¥–Ω—ã—Ö ID
- ‚úÖ –í–∫–ª—é—á–µ–Ω—ã IUPHAR –∏ GtoPdb –∏—Å—Ç–æ—á–Ω–∏–∫–∏
- ‚úÖ –ü—Ä–æ–≤–µ—Ä–µ–Ω—ã IUPHAR —Å–ª–æ–≤–∞—Ä–∏
- ‚è≥ –¢—Ä–µ–±—É–µ—Ç—Å—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –Ω–∞ —Ä–µ–∞–ª—å–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö

**–í—Å–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ø—Ä–∏–º–µ–Ω–µ–Ω—ã —Å–æ–≥–ª–∞—Å–Ω–æ –ø–ª–∞–Ω—É!**
